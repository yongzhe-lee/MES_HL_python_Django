/**
 * Kendo UI v2024.2.514 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("kendo.core.js"),require("kendo.icons.js"),require("kendo.textarea.js"),require("kendo.button.js"),require("kendo.toolbar.js"),require("kendo.aiprompt.views.js")):"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.icons.min","kendo.textarea.min","kendo.button.min","kendo.toolbar.min","kendo.aiprompt.views.min"],e):((t="undefined"!=typeof globalThis?globalThis:t||self).kendoaiprompt=t.kendoaiprompt||{},t.kendoaiprompt.js=e())}(this,(function(){return function(t){let e=window.kendo,o=e.ui.Widget,i=e.ui,n=t.extend,s="focus",r="k-prompt",p={prompt:{type:"kendo.ui.AIPromptPromptView",name:"prompt",buttonIcon:"sparkles"},output:{type:"kendo.ui.AIPromptOutputView",name:"output",buttonIcon:"comment"},commands:{type:"kendo.ui.AIPromptCommandsView",name:"commands",buttonIcon:"more-horizontal"},custom:{type:"kendo.ui.AIPromptCustomView",name:"custom"}},u=o.extend({init:function(t,i){let n=this;i=i||{},o.fn.init.call(n,t,i),0==n.options.views.length&&(n.options.views=["prompt","output"],this.options.promptCommands&&this.options.promptCommands.length&&this.options.views.push("commands")),n.promptOutputs=n.options.promptOutputs||[],n._initLayout(),n._initViews(),n._initToolbar(),n.activeView(n.options.activeView),e.notify(n)},options:{name:"AIPrompt",enabled:!0,toolbarItems:[],promptOutputs:[],activeView:0,views:[],popup:null,messages:{promptView:"Ask AI",outputView:"Output",commandsView:"",customView:"Custom View",promptPlaceholder:"Ask or generate content with AI",promptSuggestions:"Prompt Suggestions",generateOutput:"Generate",outputTitle:"Generated with AI",outputRetryTitle:"Generated with AI",copyOutput:"Copy",retryGeneration:"Retry",ratePositive:"",rateNegative:""},showOutputRating:!0},events:["commandExecute","promptRequest","outputRatingChange","outputCopy"],_initializeView:function(t){let o,i=this.views[t];if(i){let t=i.type;if("string"==typeof t&&(t=e.getter(i.type)(window)),!t)throw new Error("There is no such view");o=new t(this.element,n(!0,{promptSuggestions:this.options.promptSuggestions,promptCommands:this.options.promptCommands,promptOutputs:this.promptOutputs,showOutputRating:this.options.showOutputRating,messages:this.options.messages,promptSuggestionItemTemplate:this.options.promptSuggestionItemTemplate},i))}return o},_unbindView:function(t){t&&t.destroy()},_initViews:function(){let t=this,e=t.options.views;t.views={},t.viewsArray=[];for(let o=0,i=e.length;o<i;o++){let i=e[o],n="object"==typeof i,s=i;n&&(s="string"!=typeof i.type?i.name:i.type);let r=p[s];r&&(n&&(i.type=r.type),r.buttonText=t.options.messages[`${s}View`]),i=Object.assign({title:i.title,name:s,index:o},r,n?i:{}),t.viewsArray.push(i),s&&(t.views[s]=i)}},getViews:function(){return this.viewsArray},activeView:function(e){let o=this;if(void 0===e)return o._activeViewIndex;if(Number.isInteger(e)&&(e=o.viewsArray[e].name),e&&o.views[e]){o._selectedView&&o._unbindView(o._selectedView),o._selectedView=o._initializeView(e),o._activeViewIndex=o.viewsArray.findIndex((t=>t.name===e)),o._selectedView.render(),o._updateToolbarState(o._activeViewIndex);let i=t(o.toolbar._getAllItems()[o._activeViewIndex]);o.toolbar._resetTabIndex(i),i.trigger(s)}},addPromptOutput:function(t){if(t.id=t.id||e.guid(),this.promptOutputs.unshift(t),"function"==typeof this._selectedView.renderPromptOutput)return this._selectedView.renderPromptOutput(t)},_updateToolbarState:function(e){let o=this.toolbar;o.element.find(".k-toolbar-toggle-button").each((function(i,n){o.toggle(t(n),i==e)}))},_initLayout:function(){let e=this,o=t("<div></div>").addClass("k-prompt-header");e.header=o,e.element.addClass(r),e.element.append(o)},_getViewTools:function(){let t=this;return t.viewsArray.map((e=>({type:"button",text:e.buttonText,icon:e.buttonIcon,fillMode:"flat",themeColor:"primary",rounded:"full",togglable:!0,toggle:function(){t.activeView(e.name)}})))},_initToolbar:function(){let e=this,o=e.options.toolbarItems;o=Array.isArray(o)?o:[o];let i=t("<div></div>").kendoToolBar({resizable:!1,fillMode:"flat",items:e._getViewTools().concat(o)}).appendTo(e.header);e.toolbar=i.data("kendoToolBar")},focus:function(){this.element.trigger(s)},destroy:function(){let t=this;t.toolbar?.destroy(),t._selectedView?.destroy(),t.element.off(".kendoAIPrompt"),o.fn.destroy.call(t)}});i.plugin(u)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.aiprompt.min.js.map
