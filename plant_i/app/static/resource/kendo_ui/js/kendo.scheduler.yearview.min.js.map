{"version":3,"sources":["raw-js/kendo.scheduler.yearview.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","kendoscheduler","yearview","js","this","$","undefined$1","kendo","window","ui","encode","htmlEncode","SchedulerView","extend","template","firstDayOfYear","date","firstDayOfMonth","lastDayOfMonth","NAVIGATE","KEYDOWN","CLICK","FOCUS","NS","YearViewStyles","layout","body","tooltip","indicator","event","hidden","calendarView","scheduler","TOOLTIP_TEMPLATE","events","messages","format","length","map","title","resources","attr","color","start","join","noData","YearView","init","element","options","that","fn","call","_yearRange","_templates","_layout","_initCalendar","_initTooltip","name","months","startDate","selectedDateFormat","selectedShortDateFormat","selectedMobileDateFormat","tooltipTemplate","tempEnd","_startDate","setFullYear","getFullYear","Date","setMonth","getMonth","_endDate","settings","Template","templateSettings","styles","content","addClass","append","calendar","calEl","calendarElement","MultiViewCalendar","views","value","showViewHeader","footer","selectable","_disableCalendarSelection","header","toggleClass","on","_calendarCellClick","bind","_calendarKeydown","_calendarNavigate","ev","target","first","preventDefault","stopPropagation","_displayTooltip","keys","keyCode","ENTER","SPACEBAR","navigationDate","sender","_firstViewValue","previousDate","nextDate","trigger","view","_focusCellOnNavigate","focusDate","find","getKendoMultiViewCalendar","lastDateInRange","_focusCell","_cellByDate","off","_move","tooltipElement","_buildTooltipTemplate","Tooltip","filter","showOn","position","width","show","setTimeout","applyStylesFromKendoAttributes","popup","_initTooltipPopup","_tooltipShow","_tooltipHide","_initPopup","_tooltipTitleClick","_tooltipKeydown","parseDate","current","data","eventsByDate","dateData","toString","items","eventResources","_inverseTooltipEventsColor","each","_inverseEventColor","refresh","focus","_navigateToDayView","shiftKey","is","TAB","firstFocusable","lastFocusable","last","grep","isPlainObject","type","removeClass","_renderEventIndicators","cell","remove","forEach","_currentView","toDateString","querySelector","appendTo","_groupEventsByDate","eventsFormatted","formattedDate","Query","sort","field","dir","group","toArray","_resourceBySlot","end","nextYear","previousYear","endDate","moveToEvent","constrainSelection","inRange","select","selection","clearSelection","selectionByElement","index","_index","toDateObject","isAllDay","uid","candidate","_current","render","_cachedEvents","destroy","jQuery"],"mappings":"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","file":"kendo.scheduler.yearview.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.scheduler.view.js'), require('kendo.multiviewcalendar.js'), require('kendo.tooltip.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.scheduler.view', 'kendo.multiviewcalendar', 'kendo.tooltip'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendoscheduler = global.kendoscheduler || {}, global.kendoscheduler.yearview = global.kendoscheduler.yearview || {}, global.kendoscheduler.yearview.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"scheduler.yearview\",\n        name: \"Scheduler Year View\",\n        category: \"web\",\n        description: \"The Scheduler Year View\",\n        depends: [ \"scheduler.view\", \"multiviewcalendar\", \"tooltip\" ],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            encode = kendo.htmlEncode,\n            SchedulerView = ui.SchedulerView,\n            extend = $.extend,\n            template = kendo.template,\n            firstDayOfYear = kendo.date.firstDayOfYear,\n            firstDayOfMonth = kendo.date.firstDayOfMonth,\n            lastDayOfMonth = kendo.date.lastDayOfMonth,\n            DAY = \"day\",\n            NAVIGATE = \"navigate\",\n            KEYDOWN = \"keydown\",\n            ACTIVATE = \"activate\",\n            SHOW = \"show\",\n            HIDE = \"hide\",\n            CLICK = \"click\",\n            FOCUS = \"focus\",\n            DOT = \".\",\n            NS = \".kendoYearView\";\n\n        var YearViewStyles = {\n            layout: \"k-scheduler-layout k-scheduler-layout-flex k-scheduler-yearview\",\n            body: \"k-scheduler-body\",\n            tooltip: \"k-scheduler-tooltip\",\n            indicator: \"k-day-indicator\",\n            event: \"k-tooltip-event\",\n            hidden: \"k-hidden\",\n            calendarView: \"k-calendar-view\",\n            scheduler: \"k-scheduler\"\n        };\n\n        var TOOLTIP_TEMPLATE = template(({ date, events, messages }) =>\n            \"<div class='k-tooltip-title k-text-center'>\" +\n                `<div class='k-month'>${encode(kendo.format('{0:MMM}', date))}</div>` +\n                `<div tabindex='0' class='k-link k-day k-text-primary'>${encode(kendo.format('{0:dd}', date))}</div>` +\n            \"</div>\" +\n            (events.length ?\n                \"<div class='k-tooltip-events-container'>\" +\n                    \"<div class='k-tooltip-events'>\" +\n                        events.map((event) =>\n                            `<div class=\"k-tooltip-event k-event\" title=\"${encode(event.title)}\" ${event.resources[0] ? `${kendo.attr(\"style-background-color\")}=\"${encode(event.resources[0].color)}\" ${kendo.attr(\"style-border-color\")}=\"${encode(event.resources[0].color)}\"` : ''}>` +\n                                `<div class='k-event-title k-text-ellipsis'>${encode(event.title)}</div>` +\n                                \"<span class='k-spacer'></span>\" +\n                                `<span class='k-event-time'>${encode(kendo.format('{0:t}', event.start))}</span>` +\n                            \"</div>\"\n                        ).join('') +\n                    \"</div>\" +\n                \"</div>\" :\n                `<div class='k-no-data k-text-center'>${encode(messages.noData)}</div>`)\n            );\n\n        var YearView = SchedulerView.extend({\n            init: function(element, options) {\n                var that = this;\n\n                SchedulerView.fn.init.call(that, element, options);\n\n                that._yearRange();\n\n                that._templates();\n\n                that._layout();\n\n                that._initCalendar();\n\n                that._initTooltip();\n            },\n\n            options: {\n                title: \"Year\",\n                name: \"year\",\n                months: 12,\n                startDate: null,\n                messages: {\n                    noData: \"No events on this date.\"\n                },\n                selectedDateFormat: \"{0:yyyy}\",\n                selectedShortDateFormat: \"{0:yyyy}\",\n                selectedMobileDateFormat: \"{0:yyyy}\",\n                tooltipTemplate: TOOLTIP_TEMPLATE\n            },\n\n            name: \"year\",\n\n            events: [ NAVIGATE ],\n\n            _yearRange: function() {\n                var that = this,\n                    options = that.options,\n                    tempEnd;\n\n                that._startDate = options.startDate ? firstDayOfMonth(options.startDate) : firstDayOfYear(options.date);\n                that._startDate.setFullYear(options.date.getFullYear());\n\n                tempEnd = new Date(that._startDate);\n                tempEnd.setMonth(tempEnd.getMonth() + options.months);\n                that._endDate = tempEnd;\n            },\n\n            _templates: function() {\n                var options = this.options,\n                    settings = extend({}, kendo.Template, options.templateSettings);\n\n                this.tooltipTemplate = kendo.template(options.tooltipTemplate, settings);\n            },\n\n            _layout: function() {\n                var that = this,\n                    styles = YearViewStyles;\n\n                that.content = $(\"<div/>\").addClass(styles.layout);\n                that.element.append(that.content);\n\n                that.body = $(\"<div/>\").addClass(styles.body);\n                that.content.append(that.body);\n            },\n\n            _initCalendar: function() {\n                var that = this,\n                    options = that.options,\n                    calendarElement = $(\"<div/>\"),\n                    calendar, calEl;\n\n                that.body.append(calendarElement);\n\n                that.calendar = calendar = new ui.MultiViewCalendar(calendarElement, {\n                    views: options.months,\n                    value: that.startDate(),\n                    showViewHeader: true,\n                    footer: false\n                });\n\n                calEl = calendar.element;\n\n                if (!options.selectable) {\n                    that._disableCalendarSelection();\n                }\n\n                calendar.value(null);\n\n                calendar.header.toggleClass(YearViewStyles.hidden);\n\n                calEl.on(CLICK + NS, \"td[role='gridcell']\", that._calendarCellClick.bind(that));\n                calEl.on(KEYDOWN + NS, DOT + YearViewStyles.calendarView, that._calendarKeydown.bind(that));\n                calendar.bind(NAVIGATE, that._calendarNavigate.bind(that));\n            },\n\n            _calendarCellClick: function(ev) {\n                var that = this,\n                    target = that.calendar.selectable.value().first();\n\n                ev.preventDefault();\n                ev.stopPropagation();\n\n                that._displayTooltip(target);\n            },\n\n            _calendarKeydown: function(ev) {\n                var that = this,\n                    keys = kendo.keys,\n                    keyCode = ev.keyCode;\n\n                if (keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                    ev.preventDefault();\n\n                    that._displayTooltip(that.calendar.selectable.value().first());\n                }\n            },\n\n            _calendarNavigate: function(ev) {\n                var that = this,\n                    calendar = ev.sender,\n                    isPrevious = calendar._firstViewValue < that.startDate(),\n                    navigationDate = isPrevious ? that.previousDate() : that.nextDate();\n\n                that.trigger(NAVIGATE, { view: \"year\", date: navigationDate });\n\n                that._focusCellOnNavigate();\n            },\n\n            _focusCellOnNavigate: function() {\n                var that = this,\n                    calendar = that.calendar || that.element.find(\".k-calendar\").getKendoMultiViewCalendar(),\n                    isPrevious,\n                    focusDate;\n\n                if (!calendar) {\n                    return;\n                }\n\n                isPrevious = calendar._firstViewValue < that.startDate();\n                focusDate = isPrevious ? that.lastDateInRange() : that.nextDate();\n                calendar._focusCell(calendar._cellByDate(focusDate), true);\n            },\n\n            _disableCalendarSelection: function() {\n                var that = this;\n\n                if (!that.calendar) {\n                    return;\n                }\n\n                that.calendar.value(null);\n                that.calendar.element.off(KEYDOWN, that.calendar._move);\n            },\n\n            _initTooltip: function() {\n                var that = this,\n                    tooltipElement = that.content,\n                    tooltipTemplate = that._buildTooltipTemplate.bind(that);\n\n                that.tooltip = new ui.Tooltip(tooltipElement, {\n                    filter: \".k-calendar td[role='gridcell']\",\n                    showOn: CLICK,\n                    position: \"right\",\n                    content: tooltipTemplate,\n                    width: 220,\n                    show: () => setTimeout(() => kendo.applyStylesFromKendoAttributes(that.tooltip.popup.element, [\"background-color\", \"border-color\"]))\n                });\n\n                that._initTooltipPopup();\n\n                that.tooltip.bind(SHOW, that._tooltipShow.bind(that));\n\n                that.tooltip.bind(HIDE, that._tooltipHide.bind(that));\n            },\n\n            _initTooltipPopup: function() {\n                var that = this,\n                    tooltip = that.tooltip;\n\n                if (!that.tooltip) {\n                    return;\n                }\n\n                tooltip._initPopup();\n\n                tooltip.popup.element.addClass(YearViewStyles.tooltip);\n\n                tooltip.popup.element.on(CLICK + NS, \".k-tooltip-title > .k-day\", that._tooltipTitleClick.bind(that));\n\n                tooltip.popup.element.on(KEYDOWN + NS, that, that._tooltipKeydown.bind(that));\n            },\n\n            _buildTooltipTemplate: function() {\n                var that = this,\n                    date = kendo.parseDate(that.calendar.current()),\n                    data = that.eventsByDate || [];\n\n                data = data.filter(function(dateData) {\n                    return kendo.toString(new Date(dateData.value), \"d\") == kendo.toString(date, \"d\");\n                });\n\n                if (data && data[0]) {\n                    data[0].items.map(function(event) {\n                        event.resources = that.eventResources(event) || [];\n                    });\n                }\n\n                return that.tooltipTemplate({\n                    date: date,\n                    events: data[0] ? data[0].items : [],\n                    messages: that.options.messages\n                });\n            },\n\n            _inverseTooltipEventsColor: function() {\n                var that = this;\n\n                $.each(that.tooltip.popup.element.find(DOT + YearViewStyles.event), function() {\n                    that._inverseEventColor($(this));\n                });\n            },\n\n            _tooltipShow: function(ev) {\n                var that = this,\n                    tooltip = ev.sender;\n\n                tooltip.refresh();\n\n                that._inverseTooltipEventsColor();\n\n                tooltip.popup.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n            },\n\n            _tooltipHide: function() {\n                var calendar = this.calendar;\n\n                if (!calendar) {\n                    return;\n                }\n\n                calendar.focus();\n            },\n\n            _tooltipTitleClick: function() {\n                this._navigateToDayView();\n            },\n\n            _tooltipKeydown: function(ev) {\n                var that = this,\n                    element = that.tooltip.popup.element,\n                    target = $(ev.target),\n                    keys = kendo.keys,\n                    keyCode = ev.keyCode,\n                    shiftKey = ev.shiftKey;\n\n                if (target.is(\".k-day\") && keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                    ev.preventDefault();\n\n                    that._navigateToDayView();\n                }\n\n                if (keyCode == keys.TAB) {\n                    var firstFocusable = element.find(\":kendoFocusable\").first();\n                    var lastFocusable = element.find(\":kendoFocusable\").last();\n\n                    if (shiftKey && target.is(firstFocusable)) {\n                        lastFocusable.trigger(FOCUS);\n                        ev.preventDefault();\n                    } else if (target.is(lastFocusable)) {\n                        firstFocusable.trigger(FOCUS);\n                        ev.preventDefault();\n                    }\n                }\n            },\n\n            _navigateToDayView: function() {\n                var dayViewEnabled = $.grep(this.options.views, function(view) {\n                    return ($.isPlainObject(view) && view.type == \"kendo.ui.DayView\") || view === DAY;\n                }).length;\n\n                if (dayViewEnabled) {\n                    this.trigger(NAVIGATE, { view: DAY, date: this.calendar.current() });\n                }\n            },\n\n            _displayTooltip: function(target) {\n                var that = this;\n\n                if (!target.length) {\n                    return;\n                }\n\n                if (!that.options.selectable) {\n                    target.removeClass(\"k-selected\");\n                }\n\n                setTimeout(function() {\n                    that.tooltip.show(target);\n                }, 50);\n            },\n\n            _renderEventIndicators: function() {\n                var that = this,\n                    calendar = that.calendar,\n                    current,\n                    cell;\n\n                calendar.element.find(\".\" + YearViewStyles.indicator).remove();\n\n                that.eventsByDate.forEach(function(date) {\n                    current = calendar._currentView.toDateString(new Date(date.value));\n                    cell = calendar.element[0].querySelector(\"[data-value='\" + current + \"']\");\n\n                    if (date.items.length) {\n                        $(\"<span/>\").addClass(YearViewStyles.indicator).appendTo(cell);\n                    }\n                });\n            },\n\n            _groupEventsByDate: function(events) {\n                var eventsByDate = [],\n                    eventsFormatted;\n\n                if (!events.length) {\n                    return [];\n                }\n\n                eventsFormatted = events.map(function(event) {\n                    event.formattedDate = event.start.toDateString();\n                    return event;\n                });\n\n                eventsByDate = new kendo.data.Query(eventsFormatted)\n                    .sort([\n                        { field: \"start\", dir: \"asc\" },\n                        { field: \"end\", dir: \"desc\" }\n                    ])\n                    .group({\n                        field: \"formattedDate\"\n                    })\n                    .toArray();\n\n                return eventsByDate;\n            },\n\n            _resourceBySlot: function() {\n                return {};\n            },\n\n            lastDateInRange: function() {\n                var end = new Date(this.previousDate());\n\n                end.setMonth((end.getMonth() - 1) + this.options.months);\n\n               return lastDayOfMonth(end);\n            },\n\n            nextDate: function() {\n                return kendo.date.nextYear(this._startDate);\n            },\n\n            previousDate: function() {\n                return kendo.date.previousYear(this._startDate);\n            },\n\n            startDate: function() {\n                return this._startDate;\n            },\n\n            endDate: function() {\n                return this._endDate;\n            },\n\n            moveToEvent: function() {\n                return false;\n            },\n\n            constrainSelection: function() {\n                return false;\n            },\n\n            inRange: function() {\n                return true;\n            },\n\n            select: function(selection) {\n                this.clearSelection();\n\n                if (selection.start >= this.startDate() && selection.start < this.endDate()) {\n                    this.calendar.value(selection.start);\n                } else {\n                    this.calendar.value(this.calendar._firstViewValue);\n                    selection.start = selection.end = this.calendar.value();\n                }\n\n                this.current(this.calendar.selectable.value()[0]);\n            },\n\n            selectionByElement: function(cell) {\n                if (!cell.length) {\n                    return;\n                }\n\n                cell = $(cell);\n\n                return {\n                    index: this.calendar._index,\n                    start: kendo.calendar.toDateObject(cell),\n                    end: kendo.calendar.toDateObject(cell),\n                    isAllDay: false,\n                    uid: 0\n                };\n            },\n\n            current: function(candidate) {\n                if (candidate !== undefined$1) {\n                    this._current = candidate;\n                } else {\n                    return this._current;\n                }\n            },\n\n            render: function(events) {\n                var that = this;\n\n                that._cachedEvents = events;\n\n                that.eventsByDate = that._groupEventsByDate(events) || [];\n\n                that._renderEventIndicators();\n\n                that.trigger(ACTIVATE);\n            },\n\n            destroy: function() {\n                var that = this;\n\n                if (that.tooltip) {\n                    that.tooltip.destroy();\n                    that.tooltip = null;\n                }\n\n                if (that.calendar) {\n                    that.calendar.destroy();\n                    that.calendar = null;\n                }\n\n                if (that.element) {\n                    that.content.remove();\n                    that.element.off(NS);\n                }\n\n                SchedulerView.fn.destroy.call(this);\n            }\n        });\n\n        extend(true, ui, {\n            YearView: YearView\n        });\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}