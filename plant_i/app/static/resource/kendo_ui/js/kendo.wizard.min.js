/**
 * Kendo UI v2024.2.514 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("kendo.stepper.js"),require("kendo.button.js"),require("kendo.form.js")):"function"==typeof define&&define.amd?define(["kendo.stepper.min","kendo.button.min","kendo.form.min"],e):((t="undefined"!=typeof globalThis?globalThis:t||self).kendowizard=t.kendowizard||{},t.kendowizard.js=e())}(this,(function(){return function(t,e){var n=window.kendo,s=n.ui.Widget,r=t.extend,i=n.htmlEncode,o=".kendoWizard",a="click",p="activate",d="select",l="reset",h="submit",u="previous",c="next",f="done",m="error",g="contentLoad",_="formValidateFailed",v="k-hidden",b="k-step-link",w="aria-selected",S="aria-hidden",k="aria-label",x="bottom",C="right",y="left",B=".",z="id",A="role",E="data-wizard-",j="k-wizard",T="k-wizard-horizontal",F="k-wizard-vertical",N="k-wizard-right",I="k-wizard-left",H="k-wizard-steps",K="k-wizard-step",L="k-wizard-content",O="k-wizard-buttons",U="k-wizard-buttons-left",q="k-wizard-buttons-right",D="k-wizard-pager",P=n.Class.extend({init:function(t){this.options=r({},this.options,t),this.options.actionBar&&this._processButtons(),this._render()},options:{name:"WizardStep",index:0,content:"",contentUrl:null,contentId:null,markupContainer:null,form:null,actionBar:!0,buttons:[],pager:!0,selected:!1,enabled:!0,className:"",totalSteps:1,wizardId:"wizard",formTag:"form",messages:{}},_defaultButtonsConfiguration:{first:[l,c],middle:[l,u,c],last:[l,u,f]},_pagerTemplate:({step:t,currentStep:e,of:n,totalSteps:s})=>`<span class="k-wizard-pager">${i(t)} ${i(e)} ${i(n)} ${i(s)}</span>`,buttons:function(){return this._buttons},load:function(){this.options.contentUrl&&this._ajaxRequest()},resetButtons:function(){var t=this.element.find(B+O);n.destroy(t),t.remove(),this.options.buttons=[],this._processButtons(),this._buttonsContainer()},_ajaxRequest:function(e,s){var r=this,i=r.options.contentUrl,o=r.element,a={type:"GET",cache:!1,url:i,dataType:"html",data:{},error:function(t,n){e&&e._triggerError(t,n,r)},complete:function(){e&&s&&e._triggerActivate(r)},success:function(t){var s=o.find(B+L);try{n.destroy(s),s.html(t),e&&e._triggerContentLoad(r)}catch(t){this.error(this.xhr,"error")}}};"object"==typeof i&&(a=t.extend(!0,{},a,i)),t.ajax(a)},_ariaAttributes:function(){var t=this.element,e=this.options,n=e.messages,s=n.step+" "+(e.index+1)+" "+n.of+" "+e.totalSteps;t.attr(A,"tabpanel").attr("tabindex",0).attr(z,e.wizardId+"-"+e.index).attr(k,s)},_buttonFactory:function(e){var n=t("<button type='button'><span></span></button>").kendoButton({themeColor:e.primary?"primary":"base"}).getKendoButton(),s=n.element;s.attr(E+e.name,""),s.find("span").text(e.text),e.click&&n.bind(a,e.click),!1===e.enabled&&n.enable(!1),e.position===y?this._leftButtonsContainer.append(s):this._rightButtonsContainer.append(s),"done"===e.name&&"form"!==this.options.formTag&&n.element.attr("type",h),this._buttons.push(n)},_buttonsContainer:function(){var e=t("<div>").addClass(O);this._leftButtonsContainer=t("<span>").addClass(U),this._rightButtonsContainer=t("<span>").addClass(q),e.append(this._leftButtonsContainer),e.append(this._rightButtonsContainer),this.element.append(e),this._buttons=[],this.options.buttons.map(this._buttonFactory.bind(this)),this.options.pager&&this._pager()},_content:function(){var e=this.options,s=!!e.contentUrl,r=t("<div>").addClass(L);!s&&e.contentId?r.html(t("#"+e.contentId).html()):!s&&e.content&&r.append(e.content),e.markupContainer&&(s||e.contentId||e.content||r.append(e.markupContainer.html()),n.destroy(e.markupContainer),e.markupContainer.remove()),this.element.prepend(r)},_form:function(){var e="<"+this.options.formTag+">",n=t(e).hide(),s=t("<div>").addClass(L),r=this.options.form;t("body").append(n),this.element.prepend(s),r.buttonsTemplate=r.buttonsTemplate||(()=>""),this.form=n.kendoForm(r).getKendoForm(),s.append(n.show())},_iterateButton:function(t){var e=this.options.messages;return"string"==typeof t&&(t={name:t}),t.text||(t.text=e[t.name]||t.name.charAt(0).toUpperCase()+t.name.slice(1)),!1===t.primary||t.name!==f&&t.name!==c||(t.primary=!0),t.position||t.name!==l?t.position||(t.position=C):t.position=y,t},_pager:function(){var t=this.options,e=t.messages,s={step:e.step,currentStep:t.index+1,of:e.of,totalSteps:t.totalSteps},r=n.template(this._pagerTemplate)(s);this._leftButtonsContainer.append(r)},_processButtons:function(){var t=this.options,e=t.buttons,n=this._defaultButtonsConfiguration;e&&e.length&&0!==e.length||(this.options.defaultButtons=!0,e=0===t.index?n.first:t.index+1===t.totalSteps?n.last:n.middle),this.options.buttons=e.map(this._iterateButton.bind(this))},_render:function(){this.element=t("<div>").addClass(K),this.options.className&&this.element.addClass(this.options.className),this._ariaAttributes(),this.options.selected||(this.element.addClass(v),this.element.attr(S,!0)),this.options.actionBar&&this._buttonsContainer(),this.options.form?this._form():this._content()}}),W=s.extend({init:function(t,e){var n=this;e=e||{},s.fn.init.call(n,t,e),n._wrapper(),n._createSteps(),n._stepper(),n._attachEvents()},options:{name:"Wizard",contentPosition:x,actionBar:!0,pager:!0,loadOnDemand:!1,reloadOnSelect:!1,validateForms:!0,stepper:{},steps:[],messages:{reset:"Reset",previous:"Previous",next:"Next",done:"Done",step:"Step",of:"of"}},events:[p,d,l,f,m,g,_],destroy:function(){var t=this;s.fn.destroy.call(t.stepper),s.fn.destroy.call(t),t.wrapper.off(o)},activeStep:function(){return this.currentStep},enableStep:function(t,n){var s,r=this;t===e||null===t||isNaN(t)||t>=r._steps.length||t<0||(t=Number(t),(s=r._steps[t]).options.enabled!==n&&(s.options.enabled=n,r.stepper.steps()[t].enable(n)))},insertAt:function(t,n){var s,r,i,o=this._steps,a=o.length,p=this.options.messages;null===t||t===e||isNaN(t)||t<0||t>a||n&&(r=this._mapStepForStepper(n),this.stepper.insertAt(t,r),n.totalSteps=a+1,n.messages=p,n.index=t,n.formTag=this.wrapper.is("form")?"div":"form",!1===this.options.pager&&!0!==n.pager&&(n.pager=!1),s=new P(n),o.forEach((function(e,n){var s;n>=t&&(e.options.index+=1),e.options.totalSteps+=1,e.element.find(B+D).remove(),e._pager(),s=p.step+" "+(e.options.index+1)+" "+p.of+" "+(a+1),e.element.attr(k,s)})),o.splice(t,0,s),0!==t&&t!==a||(i=o[0===t?1:a-1]).options.defaultButtons&&i.resetButtons(),this._insertStepElementAtIndex(t,s.element),this._stepperAriaAttributes(),this._steps.forEach(this._iterateAriaStep))},next:function(){var t=this,e=t._steps.length,n=t.currentStep.options.index;n+1!==e&&t.steps()[n+1].options.enabled&&(t._select(n+1),t._selectStepper(n+1))},previous:function(){var t=this,e=t.currentStep.options.index;0!==e&&t.steps()[e-1].options.enabled&&(t._select(e-1),t._selectStepper(e-1))},removeAt:function(s){var r,i,o,a,p,d=this._steps,l=d.length,h=t(this.element.find(B+K).get(s)),u=this.options.messages;if(!(null===s||s===e||isNaN(s)||s<0||s>l||1===l)){for(this.stepper.removeAt(s),d.splice(s,1)[0],h.hasClass(v)||(r=0===s?0:s-1,this.select(r)),n.destroy(h),h.remove(),o=0;o<l-1;o+=1)(a=d[o]).options.index=o,a.options.totalSteps=l-1,a.element.find(B+D).remove(),a._pager(),p=u.step+" "+(o+1)+" "+u.of+" "+(l-1),a.element.attr(k,p);0!==s&&s!==l-1||(i=d[0===s?0:l-2]).options.defaultButtons&&i.resetButtons(),this._stepperAriaAttributes(),this._steps.forEach(this._iterateAriaStep)}},select:function(t){var n=this;t===e||null===t||isNaN(t)||t>=n._steps.length||t<0||(t=Number(t),n._steps[t].options.enabled&&(n._select(t),n._selectStepper(t)))},steps:function(){return this._steps},_attachEvents:function(){var t=this,e=function(){t._doneClicked=!0};t.stepper.bind(d,t._stepperSelectHandler.bind(t)),t.wrapper.on(a+o,"["+E+l+"]",t._resetClickHandler.bind(t)).on(a+o,"["+E+u+"]",t._previousClickHandler.bind(t)).on(a+o,"["+E+c+"]",t._nextClickHandler.bind(t)),t.wrapper.is("form")?(t.wrapper.on(a+o,"["+E+f+"]",e),t.wrapper.on(h+o,t._doneHandler.bind(t))):(t.wrapper.on(a+o,"["+E+f+"]",e),t.wrapper.on(a+o,"["+E+f+"]",t._doneHandler.bind(t)))},_changeStep:function(t){var e=this.wrapper.find(B+K);this.currentStep=t,e.addClass(v),e.attr(S,!0),t.element.removeClass(v),t.element.removeAttr(S)},_createStep:function(e,n,s,i){var o=this.wrapper,a=this.wrapper.children("ol, ul").children("li");return"string"==typeof e&&(e={title:e}),e.totalSteps=i,e.messages=this.options.messages,e.index=n,e.formTag=this.wrapper.is("form")?"div":"form",0===n&&(e.selected=!0),!1===this.options.actionBar&&(e.actionBar=!1),s.length>0&&s[n]&&(e.markupContainer=t(s[n]),e.title||(e.title=a[n]?a[n].textContent:(n+1).toString(),this.options.steps||(this.options.steps=[]))),o.attr(z)&&(e.wizardId=o.attr(z)),!1===this.options.pager&&!0!==e.pager&&(e.pager=!1),this.options.steps[n]=r(!0,{},e),new P(e)},_createSteps:function(){var e,s,r,i,o=this,a=o.wrapper,p=o.options.steps,d=a.children("div");if(e=t("<div>").addClass(H),o._steps=[],!p||0===p.length)for(p=[],s=0;s<d.length;s+=1)p.push({});for(s=0;s<p.length;s+=1)r=p[s],i=o._createStep(r,s,d,p.length),!r.contentUrl||0!==s&&o.options.loadOnDemand||(n.ui.progress(o.wrapper,!0),i._ajaxRequest(o)),e.append(i.element),o._steps.push(i);a.children("ol, ul").remove(),a.empty(),a.append(e),o._refreshEditorWidgets(),o.currentStep=o._steps[0]},_doneHandler:function(e){var n,s,r=this._steps,i=this.currentStep,o=[];if(this._doneClicked){if(this._doneClicked=!1,this.options.validateForms&&i.form&&!i.form.validator.validate())return e.preventDefault(),void this.trigger(_,{sender:this,step:i,form:i.form});for(s=0;s<r.length;s+=1)(n=r[s].form)&&o.push(n);this.trigger(f,{sender:this,forms:o,originalEvent:e,button:t(e.target).getKendoButton()})}},_insertStepElementAtIndex:function(t,e){var n=this.wrapper.find(B+H);0===t?n.prepend(e):n.find(B+K+":nth-child("+t+")").after(e)},_isEmpty:function(t){return!n.trim(t.html())},_iterateAriaStep:function(t){t._ariaAttributes()},_mapStepForStepper:function(t){var e=r(!0,{},t);return e.label=e.title,delete e.buttons,delete e.pager,delete e.content,delete e.contentUrl,delete e.contentId,delete e.formTag,delete e.wizardId,delete e.messages,e},_select:function(t){var e=this._steps[t],s=this.options;e.options.contentUrl&&(s.reloadOnSelect||s.loadOnDemand&&this._isEmpty(e.element.find(B+L)))?(this.ajaxLoad=!0,n.ui.progress(this.wrapper,!0),e._ajaxRequest(this,!0)):this._changeStep(e)},_nextClickHandler:function(e){var n=this,s=n._steps,r=n._steps.length,i=n.currentStep,o=i.options.index,a=t(e.target).getKendoButton(),l=s[o+1];r!==o+1&&l.options.enabled&&(n.options.validateForms&&i.form&&!i.form.validator.validate()?n.trigger(_,{sender:n,step:i,form:i.form}):n.trigger(d,{sender:n,originalEvent:e.originalEvent,step:l,button:a})||(n._select(o+1),n._selectStepper(o+1),n.ajaxLoad||n.trigger(p,{sender:n,step:l}),n.ajaxLoad=!1))},_previousClickHandler:function(e){var n=this,s=n.options.validateForms,r=n._steps,i=n.currentStep,o=i.options.index,a=t(e.target).getKendoButton(),l=r[o-1];0!==o&&l.options.enabled&&(s&&!1!==s.validateOnPrevious&&i.form&&!i.form.validator.validate()?n.trigger(_,{sender:n,step:i,form:i.form}):n.trigger(d,{sender:n,originalEvent:e.originalEvent,step:l,button:a})||(n._select(o-1),n._selectStepper(o-1),n.ajaxLoad||n.trigger(p,{sender:n,step:l}),n.ajaxLoad=!1))},_refreshEditorWidgets:function(){var e,n=this.wrapper.find("[data-role='editor']");for(e=0;e<n.length;e+=1)t(n[e]).getKendoEditor().refresh()},_resetClickHandler:function(e){this.trigger(l,{sender:this,originalEvent:e,button:t(e.target).getKendoButton()})},_selectStepper:function(t){var e=this.stepper,n=e.steps()[t].element.find(B+b);e.select(t),e.wrapper.find(B+b).attr(w,!1),n.attr(w,!0).trigger("focus")},_stepper:function(){var e=this.wrapper,s=t("<div>").prependTo(e),r=this.options,i=r.stepper,o=r.steps.map(this._mapStepForStepper);i.steps=o,i.orientation=r.contentPosition===x?"horizontal":"vertical",i.selectOnFocus=!0,i.kendoKeydown=function(t){t.keyCode===n.keys.TAB&&(t.preventKendoKeydown=!0)},this.stepper=s.kendoStepper(i).getKendoStepper(),this._stepperAriaAttributes()},_stepperAriaAttributes:function(){var t,e,n=this.stepper,s=this.wrapper.attr(z)||"wizard",r=n.steps();if(r)for(n.element.find(".k-step-list").attr(A,"tablist"),e=0;e<r.length;e+=1)t=!1,0===e&&(t=!0),r[e].element.attr(A,"none").find("a").attr(A,"tab").attr("aria-controls",s+"-"+e).attr(w,t)},_stepperSelectHandler:function(t){var e=this,n=e.options.validateForms,s=t.sender,r=t.step,i=e.currentStep.options.index,o=r.getIndex(),a=e._steps[o],l=e.currentStep;return o>i&&n&&l.form&&!l.form.validator.validate()||o<i&&n&&!1!==n.validateOnPrevious&&l.form&&!l.form.validator.validate()?(t.preventDefault(),void e.trigger(_,{sender:e,step:l,form:l.form})):void(e.trigger(d,{sender:e,originalEvent:t.originalEvent,step:a,stepper:s})?t.preventDefault():(e._select(o),s.wrapper.find(B+b).attr(w,!1),r.element.find(B+b).attr(w,!0),e.ajaxLoad||e.trigger(p,{sender:e,step:a}),e.ajaxLoad=!1))},_triggerActivate:function(t){this._changeStep(t),this.trigger(p,{sender:this,step:t})},_triggerError:function(t,e,s){n.ui.progress(this.wrapper,!1),this.trigger(m,{sender:this,xhr:t,status:e,step:s})},_triggerContentLoad:function(t){n.ui.progress(this.wrapper,!1),this.trigger(g,{sender:this,step:t})},_wrapper:function(){var t=this,e=t.element,n=t.options.contentPosition;t.wrapper=e,t.wrapper.addClass(j),n===C?t.wrapper.addClass(F+" "+N):n===y?t.wrapper.addClass(F+" "+I):t.wrapper.addClass(T)}});n.wizard={Step:P},n.ui.plugin(W)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.wizard.min.js.map
