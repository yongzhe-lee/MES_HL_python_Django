/**
 * Kendo UI v2024.2.514 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("kendo.core.js"),require("kendo.drawing.js")):"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.drawing.min"],i):((t="undefined"!=typeof globalThis?globalThis:t||self).kendodataviz=t.kendodataviz||{},t.kendodataviz.core=t.kendodataviz.core||{},t.kendodataviz.core.js=i())}(this,(function(){var t,i,n,e;!function(t){window.kendo.dataviz=window.kendo.dataviz||{};var i=kendo.drawing,n=i.util,e=i.Path,o=i.Group,r=kendo.Class,s=kendo.support,a=kendo.geometry,l=a.Rect,h=a.Circle,u=a.transform,c=a.Segment,f=kendo.dataviz,p=kendo.deepExtend,d=kendo.isFunction,v=kendo.getter,g="arc",m="axisLabelClick",x="#000",b="bottom",y="center",w="circle",M="cross",T="date",S="12px sans-serif",R=10,k=/\{\d+:?/,L="height",A="inside",I="left",U=Number.MAX_VALUE,j=-Number.MAX_VALUE,D="none",P="noteClick",B="noteHover",C="noteLeave",O="object",_="outside",E="right",z="roundedRect",V="string",G="top",F="triangle",N="#fff",H="width",Y="x",q="y",X={ARC:g,ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",TAB:"Tab",ARIA_ACTIVE_DESCENDANT:"aria-activedescendant",AXIS_LABEL_CLICK:m,BLACK:x,BOTTOM:b,CENTER:y,CIRCLE:w,COORD_PRECISION:3,CROSS:M,DATE:T,DEFAULT_FONT:S,DEFAULT_HEIGHT:400,DEFAULT_PRECISION:R,DEFAULT_WIDTH:600,END:"end",ENTER:"Enter",ESCAPE:"Escape",FORMAT_REGEX:k,HEIGHT:L,HIGHLIGHT_ZINDEX:100,INSIDE:A,INHERIT:"inherit",LEFT:I,MAX_VALUE:U,MIN_VALUE:j,NONE:D,NOTE_CLICK:P,NOTE_HOVER:B,NOTE_LEAVE:C,OBJECT:O,OUTSIDE:_,RIGHT:E,ROUNDED_RECT:z,START:"start",STRING:V,TOP:G,TRIANGLE:F,SQUARE:"square",RECT:"rect",VALUE:"value",WHITE:N,WIDTH:H,X:Y,Y:q,DEFAULT_SERIES_OPACITY:1,POINTER:"pointer",HORIZONTAL:"horizontal",VERTICAL:"vertical"};function W(t){return Array.isArray(t)}function K(t,i){for(var n=W(i)?i:[i],e=0;e<n.length;e++){var o=n[e];-1===t.className.indexOf(o)&&(t.className+=" "+o)}}var Q=/\s+/g;function Z(t,i){t&&t.className&&(t.className=t.className.replace(i,"").replace(Q," "))}function J(t){var i=.5;t.options.stroke&&kendo.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2==0&&(i=0);for(var n=0;n<t.segments.length;n++)t.segments[n].anchor().round(0).translate(i,i);return t}function $(t,i){return-t.x*i.y+t.y*i.x<0}function tt(t){return"number"==typeof t&&!isNaN(t)}function it(t){return typeof t===V}function nt(t){return"object"==typeof t}function et(t){return tt(t)?t+"px":t}var ot=/width|height|top|left|bottom|right/i;function rt(t){return ot.test(t)}function st(t,i){void 0===i&&(i=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof t?n[G]=n[E]=n[b]=n[I]=t:(n[G]=t[G]||i,n[E]=t[E]||i,n[b]=t[b]||i,n[I]=t[I]||i),n}var at={compile:function(t){return t}},lt=r.extend({});function ht(t){var i;return void 0===t&&(t={}),t.template?t.template=i=lt.compile(t.template):d(t.content)&&(i=t.content),i}function ut(t,i){for(var n=t.length,e=[],o=0;o<n;o++)i(t[o])&&e.push(t[o]);return e}lt.register=function(t){at=t},lt.compile=function(t,i){return at.compile(t,i)};var ct=function(){this._map=new Map};function ft(t,i){if(i)return-1!==i.indexOf(t)}ct.prototype.get=function(t){return this._map.get(t)},ct.prototype.set=function(t,i){this._map.set(t,i)};var pt="trigger",dt=r.extend({init:function(t,i){this.observer=t,this.handlerMap=p({},this.handlerMap,i)},trigger:function(t,i){var n,e=this.observer,o=this.handlerMap;return o[t]?n=this.callObserver(o[t],i):e[pt]&&(n=this.callObserver(pt,t,i)),n},callObserver:function(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];return this.observer[t].apply(this.observer,i)},requiresHandlers:function(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var i=0;i<t.length;i++)if(this.handlerMap[t[i]])return!0}});function vt(t){return"[object Object]"===Object.prototype.toString.call(t)}function gt(t,i){for(var n=t.length,e=[],o=0;o<n;o++){var r=i(t[o]);kendo.drawing.util.defined(r)&&e.push(r)}return e}var mt=s.browser||{};var xt=kendo.drawing.util,bt=xt.append,yt=xt.bindEvents,wt=xt.defined,Mt=xt.deg,Tt=xt.elementOffset,St=xt.elementSize,Rt=xt.eventCoordinates,kt=xt.eventElement,Lt=xt.hashKey,At=xt.last,It=xt.limitValue,Ut=xt.objectKey,jt=xt.rad,Dt=xt.round,Pt=xt.unbindEvents,Bt=xt.valueOrDefault,Ct=r.extend({});function Ot(t,i){var n=t.prototype;n.options?n.options=p({},n.options,i):n.options=i}Ct.fetchFonts=function(t,i,n){void 0===n&&(n={depth:0});!t||n.depth>5||!document.fonts||Object.keys(t).forEach((function(e){var o=t[e];"dataSource"!==e&&"$"!==e[0]&&o&&("font"===e?i.push(o):"object"==typeof o&&(n.depth++,Ct.fetchFonts(o,i,n),n.depth--))}))},Ct.loadFonts=function(t,i){var n=[];if(t.length>0&&document.fonts){try{n=t.map((function(t){return document.fonts.load(t)}))}catch(t){kendo.logToConsole(t)}Promise.all(n).then(i,i)}else i()},Ct.preloadFonts=function(t,i){var n=[];Ct.fetchFonts(t,n),Ct.loadFonts(n,i)};var _t="k-i-",Et="k-svg-i-",zt=r.extend({init:function(t,i){this.element=t,this.options=p({},this.options,i),this.wrapper()},wrapper:function(){this.addClasses()},addClasses:function(){},html:function(){return this.element.outerHTML}});Ot(zt,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var Vt=zt.extend({init:function(t,i){zt.fn.init.call(this,t,i)},wrapper:function(){var t=this.element.className.split(" ").find((function(t){return t.startsWith(_t)})),i=this.options.icon?""+(this.options.icon.startsWith(_t)?"":_t)+this.options.icon:"";this._className=i,K(this.element,"k-icon"),K(this.element,"k-font-icon"),Z(this.element,t),K(this.element,i),K(this.element,this.options.iconClass||""),zt.fn.wrapper.call(this)}});Ot(Vt,{name:"HTMLFontIcon",icon:null});var Gt=zt.extend({init:function(t,i){t.innerHTML="",zt.fn.init.call(this,t,i)},wrapper:function(){var t=this.options.icon,i=this.options.iconClass,n=this.element.className.split(" ").find((function(t){return t.startsWith(Et)}));if(!t&&i){var e=i.match(/k-i-(\w+(?:-\w+)*)/);e&&(t=e[1],i=i.replace(e[0],""))}it(t)&&(t=t.replace("k-i-","").replace(/-./g,(function(t){return t[1].toUpperCase()})),t=this.options.svgIcons[t]||this.options.svgIcons[t+"Icon"]);var o=t&&t.name?""+Et+t.name:"";if(this._className=o,K(this.element,"k-svg-icon"),Z(this.element,n),K(this.element,o),K(this.element,i||""),this.element.setAttribute("aria-hidden","true"),t&&vt(t)){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox",t.viewBox||""),r.setAttribute("focusable","false"),r.innerHTML=t.content||"",this.element.appendChild(r)}zt.fn.wrapper.call(this)}});Ot(Gt,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var Ft={svg:Gt,font:Vt};function Nt(t){for(var i=U,n=j,e=0,o=t.length;e<o;e++){var r=t[e];null!==r&&isFinite(r)&&(i=Math.min(i,r),n=Math.max(n,r))}return{min:i===U?void 0:i,max:n===j?void 0:n}}var Ht=a.Matrix,Yt=/matrix\((.*)\)/;function qt(t){var i=getComputedStyle(t).transform;return"none"===i?Ht.unit():function(t){var i=t.match(Yt);if(null===i||2!==i.length)return Ht.unit();var n=i[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(Ht,[null].concat(n)))}(i)}function Xt(t){return new kendo.Color(t).isDark()?N:x}var Wt={},Kt=r.extend({init:function(t){this._index={},this._values=t?t.slice(0):[];for(var i=0;i<this._values.length;i++)this._index[this._values[i]]=i},values:function(){return this._values.filter((function(t){return t!==Wt}))},has:function(t){return void 0!==this._index[t]},add:function(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))},delete:function(t){var i=this._index[t];void 0!==i&&(this._values[i]=Wt,delete this._index[t])},clear:function(){this._index={},this._values=[]}});Object.defineProperties&&Object.defineProperties(Kt.fn,{size:{get:function(){return this._values.length}}});var Qt=r.extend({init:function(t){this._set=new Set(t)},values:function(){return Array.from(this._set)},has:function(t){return this._set.has(t)},add:function(t){this._set.add(t)},delete:function(t){this._set.delete(t)},clear:function(){this._set.clear()}});Object.defineProperties&&Object.defineProperties(Qt.fn,{size:{get:function(){return this._set.size}}});var Zt=r.extend({init:function(){this.height=0,this.width=0,this.data=[]},clone:function(){var t=new Zt;return t.height=this.height,t.width=this.width,t.data=this.data.map((function(t){return t.slice()})),t},get:function(t,i){var n=this.data[t];return n?n[i]:null},set:function(t,i,n){var e=this.data[t];null==e&&(e=this.data[t]=[]),e[i]=n,t>=this.height&&(this.height=t+1),i>=this.width&&(this.width=i+1)},each:function(t,i){for(var n=0;n<this.height;++n)for(var e=0;e<this.width;++e){var o=this.get(n,e);if((i||null!=o)&&void 0!==(o=t(o,n,e)))return o}},map:function(t,i){var n=new Zt;return this.each((function(i,e,o){n.set(e,o,t(i,e,o))}),i),n},transpose:function(){var t=new Zt;return this.each((function(i,n,e){t.set(e,n,i)})),t},unit:function(t){this.width=this.height=t;for(var i=this.data=new Array(t),n=t;--n>=0;)for(var e=i[n]=new Array(t),o=t;--o>=0;)e[o]=n===o?1:0;return this},multiply:function(t){for(var i=this,n=new Zt,e=0;e<i.height;++e)for(var o=0;o<t.width;++o){for(var r=0,s=0;s<i.width;++s){var a=i.get(e,s),l=t.get(s,o);"number"==typeof a&&"number"==typeof l&&(r+=a*l)}n.set(e,o,r)}return n},inverse:function(){for(var t=this.width,i=this.augment((new Zt).unit(t)),n=i.data,e=function(i){var e=function(t,i,n){for(var e=n(t),o=t,r=t+1;r<i;r++){var s=n(t);s>e&&(e=s,o=t)}return o}(i,t,(function(t){return n[t][i]}));if(!n[e][i])return{v:null};if(i!==e){var o=n[i];n[i]=n[e],n[e]=o}for(var r=i+1;r<t;++r){for(var s=i+1;s<2*t;++s)n[r][s]-=n[i][s]*n[r][i]/n[i][i];n[r][i]=0}},o=0;o<t;++o){var r=e(o);if(r)return r.v}for(var s=0;s<t;++s)for(var a=n[s][s],l=0;l<2*t;++l)n[s][l]/=a;for(var h=t;--h>=0;)for(var u=h;--u>=0;)if(n[u][h])for(var c=2*t;--c>=t;)n[u][c]-=n[h][c]*n[u][h];return i.slice(0,t,t,t)},augment:function(t){var i=this.clone(),n=i.width;return t.each((function(t,e,o){i.set(e,o+n,t)})),i},slice:function(t,i,n,e){for(var o=new Zt,r=0;r<n;++r)for(var s=0;s<e;++s)o.set(r,s,this.get(t+r,i+s));return o}});var Jt="string",$t="function",ti=function(){this._defaultPrevented=!0},ii=function(){return!0===this._defaultPrevented},ni=function(t){function i(){t.call(this),this._events={}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.destroy=function(){this.unbind()},i.prototype.bind=function(t,i,n){var e,o,r,s,a=this,l=typeof t===Jt?[t]:t||[],h=typeof i===$t;if(void 0===i){for(e in t)a.bind(e,t[e]);return a}var u=function(){var t=l[e];(s=h?i:i[t])&&(n&&(r=s,s=function(){a.unbind(t,s),r.apply(a,arguments)},s.original=r),(a._events[t]=a._events[t]||[]).push(s))};for(e=0,o=l.length;e<o;e++)u();return a},i.prototype.one=function(t,i){return this.bind(t,i,!0)},i.prototype.first=function(t,i){var n,e,o,r=this,s=typeof t===Jt?[t]:t,a=typeof i===$t;for(n=0,e=s.length;n<e;n++){var l=s[n];(o=a?i:i[l])&&(r._events[l]=r._events[l]||[]).unshift(o)}return r},i.prototype.trigger=function(t,i){var n,e,o=this,r=o._events[t];if(r){var s=i||{};for(s.sender=o,s._defaultPrevented=!1,s.preventDefault=ti,s.isDefaultPrevented=ii,n=0,e=(r=r.slice()).length;n<e;n++)r[n].call(o,s);return!0===s._defaultPrevented}return!1},i.prototype.unbind=function(t,i){var n,e=this,o=e._events[t];if(void 0===t)e._events={};else if(o)if(i)for(n=o.length-1;n>=0;n--)o[n]!==i&&o[n].original!==i||o.splice(n,1);else e._events[t]=[];return e},i.prototype._setEvents=function(t){for(var i=this,n=(this.events||[]).length,e=0;e<n;e++){var o=i.events[e];i.options[o]&&t[o]&&(i.unbind(o,i.options[o]),i._events&&i._events[o]&&delete i._events[o])}this.bind(this.events,t)},i}(r);function ei(t,i){var n=Dt(i-t,R-1);if(0===n){if(0===i)return.1;n=Math.abs(i)}var e=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=Dt(n/e,R);return Dt(e*(o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2),R)}var oi=r.extend({init:function(t,i){this.x=t||0,this.y=i||0},clone:function(){return new oi(this.x,this.y)},equals:function(t){return t&&this.x===t.x&&this.y===t.y},rotate:function(t,i){var n=jt(i),e=Math.cos(n),o=Math.sin(n),r=t.x,s=t.y,a=this.x,l=this.y;return this.x=Dt(r+(a-r)*e+(l-s)*o,3),this.y=Dt(s+(l-s)*e-(a-r)*o,3),this},multiply:function(t){return this.x*=t,this.y*=t,this},distanceTo:function(t){var i=this.x-t.x,n=this.y-t.y;return Math.sqrt(i*i+n*n)}});oi.onCircle=function(t,i,n){var e=jt(i);return new oi(t.x-n*Math.cos(e),t.y-n*Math.sin(e))};var ri=r.extend({init:function(t,i,n,e){this.x1=t||0,this.y1=i||0,this.x2=n||0,this.y2=e||0},equals:function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(t,i){return this.x1+=t,this.x2+=t,this.y1+=i,this.y2+=i,this},move:function(t,i){var n=this.height(),e=this.width();return wt(t)&&(this.x1=t,this.x2=this.x1+e),wt(i)&&(this.y1=i,this.y2=this.y1+n),this},wrap:function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},wrapPoint:function(t){var i=W(t),n=i?t[0]:t.x,e=i?t[1]:t.y;return this.wrap(new ri(n,e,n,e)),this},snapTo:function(t,i){return i!==Y&&i||(this.x1=t.x1,this.x2=t.x2),i!==q&&i||(this.y1=t.y1,this.y2=t.y2),this},alignTo:function(t,i){var n=this.height(),e=this.width(),o=i===G||i===b?q:Y,r=o===q?n:e;if(i===y){var s=t.center(),a=this.center();this.x1+=s.x-a.x,this.y1+=s.y-a.y}else this[o+1]=i===G||i===I?t[o+1]-r:t[o+2];return this.x2=this.x1+e,this.y2=this.y1+n,this},shrink:function(t,i){return this.x2-=t,this.y2-=i,this},expand:function(t,i){return this.shrink(-t,-i),this},pad:function(t){var i=st(t);return this.x1-=i.left,this.x2+=i.right,this.y1-=i.top,this.y2+=i.bottom,this},unpad:function(t){var i=st(t);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,this.pad(i)},clone:function(){return new ri(this.x1,this.y1,this.x2,this.y2)},center:function(){return new oi(this.x1+this.width()/2,this.y1+this.height()/2)},containsPoint:function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},points:function(){return[new oi(this.x1,this.y1),new oi(this.x2,this.y1),new oi(this.x2,this.y2),new oi(this.x1,this.y2)]},getHash:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},overlaps:function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},rotate:function(t){var i=this.width(),n=this.height(),e=this.center(),o=e.x,r=e.y,s=si(0,0,o,r,t),a=si(i,0,o,r,t),l=si(i,n,o,r,t),h=si(0,n,o,r,t);return i=Math.max(s.x,a.x,l.x,h.x)-Math.min(s.x,a.x,l.x,h.x),n=Math.max(s.y,a.y,l.y,h.y)-Math.min(s.y,a.y,l.y,h.y),this.x2=this.x1+i,this.y2=this.y1+n,this},toRect:function(){return new l([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return 0!==this.width()&&0!==this.height()},align:function(t,i,n){var e=i+1,o=i+2,r=i===Y?H:L,s=this[r]();ft(n,[I,G])?(this[e]=t[e],this[o]=this[e]+s):ft(n,[E,b])?(this[o]=t[o],this[e]=this[o]-s):n===y&&(this[e]=t[e]+(t[r]()-s)/2,this[o]=this[e]+s)}});function si(t,i,n,e,o){var r=jt(o);return new oi(n+(t-n)*Math.cos(r)+(i-e)*Math.sin(r),e-(t-n)*Math.sin(r)+(i-e)*Math.cos(r))}var ai=r.extend({init:function(t,i,n,e,o){this.center=t,this.innerRadius=i,this.radius=n,this.startAngle=e,this.angle=o},clone:function(){return new ai(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},middle:function(){return this.startAngle+this.angle/2},setRadius:function(t,i){return i?this.innerRadius=t:this.radius=t,this},point:function(t,i){var n=jt(t),e=Math.cos(n),o=Math.sin(n),r=i?this.innerRadius:this.radius,s=Dt(this.center.x-e*r,3),a=Dt(this.center.y-o*r,3);return new oi(s,a)},adjacentBox:function(t,i,n){var e=this.clone().expand(t),o=e.middle(),r=e.point(o),s=i/2,a=n/2,l=Math.sin(jt(o)),h=Math.cos(jt(o)),u=r.x-s,c=r.y-a;return Math.abs(l)<.9&&(u+=s*-h/Math.abs(h)),Math.abs(h)<.9&&(c+=a*-l/Math.abs(l)),new ri(u,c,u+i,c+n)},containsPoint:function(t){var i=this.center,n=this.innerRadius,e=this.radius,o=this.startAngle,r=this.startAngle+this.angle,s=t.x-i.x,a=t.y-i.y,l=new oi(s,a),h=this.point(o),u=new oi(h.x-i.x,h.y-i.y),c=this.point(r),f=new oi(c.x-i.x,c.y-i.y),p=Dt(s*s+a*a,3);return(u.equals(l)||$(u,l))&&!$(f,l)&&p>=n*n&&p<=e*e},getBBox:function(){var t,i=new ri(U,U,j,j),n=Dt(this.startAngle%360),e=Dt((n+this.angle)%360),o=this.innerRadius,r=[0,90,180,270,n,e].sort(li),s=r.indexOf(n),a=r.indexOf(e);t=n===e?r:s<a?r.slice(s,a+1):[].concat(r.slice(0,a+1),r.slice(s,r.length));for(var l=0;l<t.length;l++){var h=this.point(t[l]);i.wrapPoint(h),i.wrapPoint(h,o)}return o||i.wrapPoint(this.center),i},expand:function(t){return this.radius+=t,this}});function li(t,i){return t-i}var hi=ai.extend({init:function(t,i,n,e){ai.fn.init.call(this,t,0,i,n,e)},expand:function(t){return ai.fn.expand.call(this,t)},clone:function(){return new hi(this.center,this.radius,this.startAngle,this.angle)},setRadius:function(t){return this.radius=t,this}}),ui=r.extend({createRing:function(t,i){var n=t.startAngle+180,o=t.angle+n;(0===t.angle||t.angle>0&&n===o)&&(o+=.001);var r=new a.Point(t.center.x,t.center.y),s=Math.max(t.radius,0),l=Math.max(t.innerRadius,0),h=new a.Arc(r,{startAngle:n,endAngle:o,radiusX:s,radiusY:s}),u=e.fromArc(h,i).close();if(l){h.radiusX=h.radiusY=l;var c=h.pointAt(o);u.lineTo(c.x,c.y),u.arc(o,n,l,l,!0)}else u.lineTo(r.x,r.y);return u}});ui.current=new ui;var ci=r.extend({init:function(t){this.children=[],this.options=p({},this.options,this.initUserOptions(t))},initUserOptions:function(t){return t},reflow:function(t){for(var i,n=this.children,e=0;e<n.length;e++){var o=n[e];o.reflow(t),i=i?i.wrap(o.box):o.box.clone()}this.box=i||t},destroy:function(){var t=this.children;this.animation&&this.animation.destroy();for(var i=0;i<t.length;i++)t[i].destroy()},getRoot:function(){var t=this.parent;return t?t.getRoot():null},getSender:function(){var t=this.getService();if(t)return t.sender},getService:function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},translateChildren:function(t,i){for(var n=this.children,e=n.length,o=0;o<e;o++)n[o].box.translate(t,i)},append:function(){for(var t=arguments,i=0;i<arguments.length;i++){var n=t[i];this.children.push(n),n.parent=this}},renderVisual:function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},addVisual:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},renderChildren:function(){for(var t=this.children,i=t.length,n=0;n<i;n++)t[n].renderVisual()},createVisual:function(){this.visual=new o({zIndex:this.options.zIndex,visible:Bt(this.options.visible,!0)})},createAnimation:function(){this.visual&&this.options.animation&&(this.animation=i.Animation.create(this.visual,this.options.animation))},appendVisual:function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):wt(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},clipRoot:function(){return this.parent?this.parent.clipRoot():this},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(t){var i,n=t.options.zIndex||0,e=this.visual.children,o=e.length;for(i=0;i<o;i++){var r=e[i];if(Bt(r.options.zIndex,0)>n)break}this.visual.insert(i,t)},traverse:function(t){for(var i=this.children,n=i.length,e=0;e<n;e++){var o=i[e];t(o),o.traverse&&o.traverse(t)}},closest:function(t){for(var i=this,n=!1;i&&!n;)(n=t(i))||(i=i.parent);if(n)return i},renderComplete:function(){},hasHighlight:function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible||!1===this.visible)},toggleHighlight:function(i,n){var e=this,o=(this.options||{}).highlight||{},r=o.visual,s=this._highlight;if(!s){var a={fill:{color:N,opacity:n||.2},stroke:{color:N,width:1,opacity:n||.2}};if(r){if(!(s=this._highlight=r(t.extend(this.highlightVisualArgs(),{createVisual:function(){return e.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else s=this._highlight=this.createHighlight(a);wt(s.options.zIndex)||(s.options.zIndex=Bt(o.zIndex,this.options.zIndex)),this.appendVisual(s)}s.visible(i)},toggleFocusHighlight:function(i){var n=((this.options||{}).accessibility||{}).highlight||{},e=this._focusHighlight;if(i||e){if(!e){var o=Xt(this.getRoot().options.background),r={fill:{opacity:n.opacity,color:n.color},stroke:t.extend({},{color:o},n.border),zIndex:n.zIndex};e=this._focusHighlight=this.createFocusHighlight(r),this.appendVisual(e)}e.visible(i)}},createGradientOverlay:function(i,n,o){var r=new e(t.extend({stroke:{color:"none"},fill:this.createGradient(o),closed:i.options.closed},n));return r.segments.elements(i.segments.elements()),r},createGradient:function(t){if(this.parent)return this.parent.createGradient(t)},supportsPointInactiveOpacity:function(){return!0}});ci.prototype.options={};var fi=ci.extend({init:function(t){ci.fn.init.call(this,t),this.options.margin=st(this.options.margin),this.options.padding=st(this.options.padding)},reflow:function(t){var i,n=this,e=this.options,o=e.width,r=e.height,s=e.shrinkToFit,a=o&&r,l=e.margin,h=e.padding,u=e.border.width,c=function(){n.align(t,Y,e.align),n.align(t,q,e.vAlign),n.paddingBox=i.clone().unpad(l).unpad(u)},f=t.clone();a&&(f.x2=f.x1+o,f.y2=f.y1+r),s&&f.unpad(l).unpad(u).unpad(h),ci.fn.reflow.call(this,f),i=a?this.box=new ri(0,0,o,r):this.box,s&&a?(c(),f=this.contentBox=this.paddingBox.clone().unpad(h)):(f=this.contentBox=i.clone(),i.pad(h).pad(u).pad(l),c()),this.translateChildren(i.x1-f.x1+l.left+u+h.left,i.y1-f.y1+l.top+u+h.top);for(var p=this.children,d=0;d<p.length;d++){var v=p[d];v.reflow(v.box)}},align:function(t,i,n){this.box.align(t,i,n)},hasBox:function(){var t=this.options;return t.border.width||t.background},createVisual:function(){ci.fn.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(e.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var t=this.options,i=t.border||{};return{stroke:{width:i.width,color:i.color,opacity:Bt(i.opacity,t.opacity),dashType:i.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}});Ot(fi,{align:I,vAlign:G,margin:{},padding:{},border:{color:x,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var pi=fi.extend({init:function(t,i){fi.fn.init.call(this,t),this.pointData=i},getElement:function(){var t=this.options,n=this.paddingBox,o=t.type,r=t.rotation,s=n.center(),a=n.width()/2,l=n.height()/2;if(!t.visible||!this.hasBox())return null;var c,f=this.visualStyle();if(o===w)c=new i.Circle(new h([Dt(n.x1+a,3),Dt(n.y1+l,3)],Math.min(a,l)),f);else if(o===F)c=e.fromPoints([[n.x1+a,n.y1],[n.x1,n.y2],[n.x2,n.y2]],f).close();else if(o===M)(c=new i.MultiPath(f)).moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),c.moveTo(n.x1,n.y2).lineTo(n.x2,n.y1);else{var p=n.toRect();if(o===z){var d=Bt(t.borderRadius,p.width()/5);p.setCornerRadius(d)}c=e.fromRect(p,f)}return r&&c.transform(u().rotate(-r,[s.x,s.y])),c.options.zIndex=t.zIndex,c},createElement:function(){var t=this,i=this.options.visual,n=this.pointData||{};return i?i({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):this.getElement()},visualOptions:function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},createVisual:function(){var t,i;this.visual=this.createElement(),t=this.visual,(i=this.options.accessibilityOptions)&&(t.options.className=i.className,t.options.role=i.role,t.options.ariaLabel=i.ariaLabel,t.options.ariaRoleDescription=i.ariaRoleDescription,t.options.ariaChecked=i.ariaChecked)}});Ot(pi,{type:w,align:y,vAlign:y});var di="radial",vi={glass:{type:"linear",rotation:0,stops:[{offset:0,color:N,opacity:0},{offset:.25,color:N,opacity:.3},{offset:1,color:N,opacity:0}]},sharpBevel:{type:di,stops:[{offset:0,color:N,opacity:.55},{offset:.65,color:N,opacity:0},{offset:.95,color:N,opacity:.25}]},roundedBevel:{type:di,stops:[{offset:.33,color:N,opacity:.06},{offset:.83,color:N,opacity:.2},{offset:.95,color:N,opacity:0}]},roundedGlass:{type:di,supportVML:!1,stops:[{offset:0,color:N,opacity:0},{offset:.5,color:N,opacity:.3},{offset:.99,color:N,opacity:0}]},sharpGlass:{type:di,supportVML:!1,stops:[{offset:0,color:N,opacity:.2},{offset:.15,color:N,opacity:.15},{offset:.17,color:N,opacity:.35},{offset:.85,color:N,opacity:.05},{offset:.87,color:N,opacity:.15},{offset:.99,color:N,opacity:0}]},bubbleShadow:{type:di,center:[.5,.5],radius:.5}};function gi(t,i){if(t.x1===i.x1&&t.y1===i.y1&&t.x2===i.x2&&t.y2===i.y2)return i;var n=Math.min(t.x1,i.x1),e=Math.max(t.x1,i.x1),o=Math.min(t.x2,i.x2),r=Math.max(t.x2,i.x2),s=Math.min(t.y1,i.y1),a=Math.max(t.y1,i.y1),l=Math.min(t.y2,i.y2),h=Math.max(t.y2,i.y2),u=[];return u[0]=new ri(e,s,o,a),u[1]=new ri(n,a,e,l),u[2]=new ri(o,a,r,l),u[3]=new ri(e,l,o,h),t.x1===n&&t.y1===s||i.x1===n&&i.y1===s?(u[4]=new ri(n,s,e,a),u[5]=new ri(o,l,r,h)):(u[4]=new ri(o,s,r,a),u[5]=new ri(n,l,e,h)),ut(u,(function(t){return t.height()>0&&t.width()>0}))[0]}var mi=ci.extend({init:function(t){ci.fn.init.call(this,t);var i=this.options;i.width=parseInt(i.width,10),i.height=parseInt(i.height,10),this.gradients={}},reflow:function(){var t=this.options,i=this.children,n=new ri(0,0,t.width,t.height);this.box=n.unpad(t.margin);for(var e=0;e<i.length;e++)i[e].reflow(n),n=gi(n,i[e].box)||new ri},createVisual:function(){this.visual=new o,this.createBackground()},createBackground:function(){var t=this.options,i=t.border||{},n=this.box.clone().pad(t.margin).unpad(i.width),o=e.fromRect(n.toRect(),{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(o)},getRoot:function(){return this},createGradient:function(n){var e,o=this.gradients,r=Ut(n),s=vi[n.gradient];if(o[r])e=o[r];else{var a=t.extend({},s,n);"linear"===s.type?e=new i.LinearGradient(a):(n.innerRadius&&(a.stops=function(i){for(var n=i.stops,e=i.innerRadius/i.radius*100,o=n.length,r=[],s=0;s<o;s++){var a=t.extend({},n[s]);a.offset=(a.offset*(100-e)+e)/100,r.push(a)}return r}(a)),(e=new i.RadialGradient(a)).supportVML=!1!==s.supportVML),o[r]=e}return e},cleanGradients:function(){var t=this.gradients;for(var i in t)t[i]._observers=[]},size:function(){var t=this.options;return new ri(0,0,t.width,t.height)}});Ot(mi,{width:600,height:400,background:N,border:{color:x,width:0},margin:st(5),zIndex:-2});var xi=ci.extend({init:function(t){ci.fn.init.call(this,t),this._initDirection()},_initDirection:function(){var t=this.options;t.vertical?(this.groupAxis=Y,this.elementAxis=q,this.groupSizeField=H,this.elementSizeField=L,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=q,this.elementAxis=Y,this.groupSizeField=L,this.elementSizeField=H,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},reflow:function(t){this.box=t.clone(),this.reflowChildren()},reflowChildren:function(){var t=this,i=this,n=i.box,e=i.elementAxis,o=i.groupAxis,r=i.elementSizeField,s=i.groupSizeField,a=this.groupOptions(),l=a.groups,h=a.groupsSize,u=a.maxGroupElementsSize,c=l.length,f=n[o+1]+this.alignStart(h,n[s]());if(c){for(var p=f,d=0;d<c;d++){for(var v=l[d],g=v.groupElements,m=n[e+1],x=g.length,b=0;b<x;b++){var y=g[b],w=t.elementSize(y),M=p+t.alignStart(w[s],v.groupSize),T=new ri;T[o+1]=M,T[o+2]=M+w[s],T[e+1]=m,T[e+2]=m+w[r],y.reflow(T),m+=w[r]+t.elementSpacing}p+=v.groupSize+t.groupSpacing}n[o+1]=f,n[o+2]=f+h,n[e+2]=n[e+1]+u}},alignStart:function(t,i){var n=0,e=this.options.align;return e===E||e===b?n=i-t:e===y&&(n=(i-t)/2),n},groupOptions:function(){for(var t=this,i=t.box,n=t.children,e=t.elementSizeField,o=t.groupSizeField,r=t.elementSpacing,s=t.groupSpacing,a=Dt(i[e]()),l=n.length,h=[],u=0,c=0,f=0,p=0,d=[],v=0;v<l;v++){var g=n[v];g.box||g.reflow(i);var m=this.elementSize(g);this.options.wrap&&Dt(c+r+m[e])>a&&(h.push({groupElements:d,groupSize:u,groupElementsSize:c}),p=Math.max(p,c),f+=s+u,u=0,c=0,d=[]),u=Math.max(u,m[o]),c>0&&(c+=r),c+=m[e],d.push(g)}return h.push({groupElements:d,groupSize:u,groupElementsSize:c}),{groups:h,groupsSize:f+=u,maxGroupElementsSize:p=Math.max(p,c)}},elementSize:function(t){return{width:t.box.width(),height:t.box.height()}},createVisual:function(){}});Ot(xi,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var bi=i.Text,yi=ci.extend({init:function(t,i){ci.fn.init.call(this,i),this.content=t,this.reflow(new ri)},reflow:function(t){var i=this.options,e=i.size=n.measureText(this.content,{font:i.font});this.baseline=e.baseline,this.box=new ri(t.x1,t.y1,t.x1+e.width,t.y1+e.height)},createVisual:function(){var t=this.options,i=t.font,n=t.color,e=t.opacity,o=t.cursor,r=t.stroke,s=t.paintOrder;this.visual=new bi(this.content,this.box.toRect().topLeft(),{font:i,fill:{color:n,opacity:e},cursor:o,stroke:r,paintOrder:s})}});function wi(t){var i=t.origin,n=t.bottomRight();return new ri(i.x,i.y,n.x,n.y)}Ot(yi,{font:S,color:x});var Mi=/\n/m,Ti=fi.extend({init:function(t,i,n){fi.fn.init.call(this,i),this.content=t,this.data=n,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new ri)},_initContainer:function(){var t=this.options,i=String(this.content).split(Mi),n=new xi({vertical:!0,align:t.align,wrap:!1}),e=p({},t,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<i.length;o++){var r=new yi(i[o].trim(),e);n.append(r)}},reflow:function(t){var i=this.options,n=i.visual;if(this.container.options.align=i.align,n&&!this._boxReflow){var e=t;e.hasSize()||(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,e=this.box);var o=this.visual=n(this.visualContext(e));o&&(e=wi(o.clippedBBox()||new l),o.options.zIndex=i.zIndex),this.box=this.contentBox=this.paddingBox=e}else if(fi.fn.reflow.call(this,t),i.rotation){var r=st(i.margin),s=this.box.unpad(r);this.targetBox=t,this.normalBox=s.clone(),(s=this.rotate()).translate(r.left-r.right,r.top-r.bottom),this.rotatedBox=s.clone(),s.pad(r)}},createVisual:function(){var t=this.options;if(this.visual=new o({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var i=e.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(i)}},renderVisual:function(){if(this.options.visible)if(this.options.visual){var t=this.visual;t&&!wt(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else fi.fn.renderVisual.call(this)},visualContext:function(i){var n=this,e={text:this.content,rect:i.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return n._boxReflow=!0,n.reflow(i),n._boxReflow=!1,n.getDefaultVisual()}};return this.data&&t.extend(e,this.data),e},getDefaultVisual:function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},rotate:function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,Y,t.align),this.align(this.targetBox,q,t.vAlign),this.box},rotationTransform:function(){var t=this.options.rotation;if(!t)return null;var i=this.normalBox.center(),n=i.x,e=i.y,o=this.rotatedBox.center();return u().translate(o.x-n,o.y-e).rotate(t,[n,e])}}),Si=ci.extend({init:function(i){ci.fn.init.call(this,i),this._textBox=new Ti(this.options.text,t.extend({},this.options,{vAlign:this.options.position})),this.append(this._textBox)},reflow:function(t){ci.fn.reflow.call(this,t),this.box.snapTo(t,Y)}});function Ri(i){for(var n=1;n<i.length;n++){var e=i[n]._textBox,o=i[n-1]._textBox;o.options.margin=t.extend(st(o.options.margin),{bottom:0}),e.options.margin=t.extend(st(e.options.margin),{top:0})}}Si.buildTitle=function(i,n){var e,o=i;return"string"==typeof i&&(o={text:i}),(o=t.extend({visible:!0},n,o))&&o.visible&&o.text&&(e=new Si(o)),e},Si.orderTitles=function(t){var i=[].concat(t),n=i.filter((function(t){return t&&t.options.position!==b})),e=i.filter((function(t){return t&&t.options.position===b}));return Ri(n),Ri(e),e.reverse(),n.concat(e)},Ot(Si,{color:x,position:G,align:y,margin:st(5),padding:st(5)});var ki=Ti.extend({init:function(t,i,n,e,o){Ti.fn.init.call(this,i,o),this.text=i,this.value=t,this.index=n,this.dataItem=e,this.reflow(new ri)},visualContext:function(t){var i=Ti.fn.visualContext.call(this,t);return i.value=this.value,i.dataItem=this.dataItem,i.format=this.options.format,i.culture=this.options.culture,i},click:function(t,i){t.trigger(m,{element:kt(i),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},rotate:function(){if(this.options.alignRotation!==y){var t=this.normalBox.toRect(),i=this.rotationTransform();this.box=wi(t.bbox(i.matrix()))}else Ti.fn.rotate.call(this);return this.box},rotationTransform:function(){var t=this.options,i=t.rotation;if(!i)return null;if(t.alignRotation===y)return Ti.fn.rotationTransform.call(this);var n=u().rotate(i).matrix(),e=this.normalBox.toRect(),o=this.targetBox.toRect(),r=t.rotationOrigin||G,s=r===G||r===b?Y:q,a=r===G||r===b?q:Y,h=r===G||r===I?o.origin:o.bottomRight(),c=e.topLeft().transformCopy(n),f=e.topRight().transformCopy(n),p=e.bottomRight().transformCopy(n),d=e.bottomLeft().transformCopy(n),v=l.fromPoints(c,f,p,d),g={};g[a]=o.origin[a]-v.origin[a];var m,x,w=Math.abs(c[a]+g[a]-h[a]),M=Math.abs(f[a]+g[a]-h[a]);Dt(w,R)===Dt(M,R)?(m=c,x=f):M<w?(m=f,x=p):(m=c,x=d);var T=m[s]+(x[s]-m[s])/2;return g[s]=o.center()[s]-T,u().translate(g.x,g.y).rotate(i)}});Ot(ki,{_autoReflow:!1});var Li=fi.extend({init:function(t,i,n){fi.fn.init.call(this,i),this.fields=t,this.chartService=n,this.render()},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var t=this,i=this.options;if(i.visible){var n,e,o=i.label,r=i.icon,s=new ri,a=function(){return t},l=r.size,h=this.fields.text;if(wt(o)&&o.visible){var u=ht(o);u?h=u(this.fields):o.format&&(h=this.chartService.format.auto(o.format,h)),o.color||(o.color=o.position===A?"#fff":r.background),this.label=new Ti(h,p({},o)),this.label.aliasFor=a,o.position!==A||wt(l)||(r.type===w?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),e=this.label.box.height()),s.wrap(this.label.box))}r.width=n||l||7,r.height=e||l||7;var c=new pi(p({},r));c.aliasFor=a,this.marker=c,this.append(c),this.label&&this.append(this.label),c.reflow(new ri),this.wrapperBox=s.wrap(c.box)}},reflow:function(t){var i,n,e,o=this,r=o.options,s=o.label,a=o.marker,l=o.wrapperBox,h=t.center(),u=r.line.length,c=r.position;r.visible&&(ft(c,[I,E])?c===I?(e=l.alignTo(t,c).translate(-u,t.center().y-l.center().y),r.line.visible&&(i=[t.x1,h.y],this.linePoints=[i,[e.x2,h.y]],n=e.clone().wrapPoint(i))):(e=l.alignTo(t,c).translate(u,t.center().y-l.center().y),r.line.visible&&(i=[t.x2,h.y],this.linePoints=[i,[e.x1,h.y]],n=e.clone().wrapPoint(i))):c===b?(e=l.alignTo(t,c).translate(t.center().x-l.center().x,u),r.line.visible&&(i=[h.x,t.y2],this.linePoints=[i,[h.x,e.y1]],n=e.clone().wrapPoint(i))):(e=l.alignTo(t,c).translate(t.center().x-l.center().x,-u),r.line.visible&&(i=[h.x,t.y1],this.linePoints=[i,[h.x,e.y2]],n=e.clone().wrapPoint(i))),a&&a.reflow(e),s&&(s.reflow(e),a&&(r.label.position===_&&s.box.alignTo(a.box,c),s.reflow(s.box))),this.contentBox=e,this.targetBox=t,this.box=n||e)},createVisual:function(){fi.fn.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},renderVisual:function(){var i=this,n=this.options,e=n.visual;n.visible&&e?(this.visual=e(t.extend(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){i.createVisual(),i.renderChildren();var t=i.visual;return delete i.visual,t}})),this.addVisual()):fi.fn.renderVisual.call(this)},createLine:function(){var t=this.options.line;if(this.linePoints){var i=e.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});J(i),this.visual.append(i)}},click:function(t,i){var n=this.eventArgs(i);t.trigger(P,n)||i.preventDefault()},over:function(t,i){var n=this.eventArgs(i);t.trigger(B,n)||i.preventDefault()},out:function(t,i){var n=this.eventArgs(i);t.trigger(C,n)},eventArgs:function(i){var n=this.options;return t.extend(this.fields,{element:kt(i),text:wt(n.label)?n.label.text:"",visual:this.visual})}});Ot(Li,{icon:{visible:!0,type:w},label:{position:A,visible:!0,align:y,vAlign:y},line:{visible:!0},visible:!0,position:G,zIndex:2});var Ai={format:function(t,i){return i},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},Ii=r.extend({});Ii.register=function(t){Ai=t},Object.defineProperties&&Object.defineProperties(Ii,{implementation:{get:function(){return Ai}}});var Ui=/\{(\d+)(:[^\}]+)?\}/g,ji=r.extend({init:function(t){this._intlService=t},auto:function(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];var e=this.intl;return it(t)&&t.match(k)?e.format.apply(e,[t].concat(i)):e.toString(i[0],t)},localeAuto:function(t,i,n){var e=this.intl;return it(t)&&t.match(k)?t.replace(Ui,(function(t,o,r){var s=i[parseInt(o,10)];return e.toString(s,r?r.substring(1):"",n)})):e.toString(i[0],t,n)}});Object.defineProperties&&Object.defineProperties(ji.fn,{intl:{get:function(){return this._intlService||Ii.implementation},set:function(t){this._intlService=t}}});var Di,Pi=r.extend({init:function(t,i){void 0===i&&(i={}),this._intlService=i.intlService,this.sender=i.sender||t,this.format=new ji(i.intlService),this.chart=t,this.rtl=Boolean(i.rtl)},notify:function(t,i){this.chart&&this.chart.trigger(t,i)},isPannable:function(t){var i=((this.chart||{}).options||{}).pannable;return i&&i.lock!==t}});Object.defineProperties&&Object.defineProperties(Pi.fn,{intl:{get:function(){return this._intlService||Ii.implementation},set:function(t){this._intlService=t,this.format.intl=t}}});var Bi=r.extend({});Bi.register=function(t){Di=t},Bi.create=function(t,i){if(Di)return Di.create(t,i)};var Ci={ChartService:Pi,DomEventsBuilder:Bi,FormatService:ji,IntlService:Ii,TemplateService:lt};function Oi(t,i){var n=t.tickX,o=t.tickY,r=t.position,s=new e({stroke:{width:i.width,color:i.color}});return t.vertical?s.moveTo(n,r).lineTo(n+i.size,r):s.moveTo(r,o).lineTo(r,o+i.size),J(s),s}function _i(t,i){var n=t.lineStart,o=t.lineEnd,r=t.position,s=new e({stroke:{width:i.width,color:i.color,dashType:i.dashType}});return t.vertical?s.moveTo(n,r).lineTo(o,r):s.moveTo(r,n).lineTo(r,o),J(s),s}var Ei=ci.extend({init:function(t,i){void 0===i&&(i=new Pi),ci.fn.init.call(this,t),this.chartService=i,this.options.visible||(this.options=p({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=p({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==D},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=p({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==D},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()},initFields:function(){},labelsRange:function(){return{min:this.options.labels.skip,max:this.labelsCount()}},normalizeLabelRotation:function(t){var i=t.rotation;nt(i)&&(t.alignRotation=i.align,t.rotation=i.angle)},createLabels:function(){var t=this,i=this.options,n=i.vertical?E:y,e=p({},i.labels,{align:n,zIndex:i.zIndex}),o=Math.max(1,e.step);if(this.clearLabels(),e.visible){this.normalizeLabelRotation(e),"auto"===e.rotation&&(e.rotation=0,i.autoRotateLabels=!0);for(var r=this.labelsRange(),s=r.min;s<r.max;s+=o){var a={index:s,count:r.max},l=t.createAxisLabel(s,e,a);l&&(t.append(l),t.labels.push(l))}}},clearLabels:function(){this.children=ut(this.children,(function(t){return!(t instanceof ki)})),this.labels=[]},clearTitle:function(){var t=this;this.title&&(this.children=ut(this.children,(function(i){return i!==t.title})),this.title=void 0)},clear:function(){this.clearLabels(),this.clearTitle()},lineBox:function(){var t=this.options,i=this.box,n=t.vertical,e=t.labels.mirror,o=e?i.x1:i.x2,r=e?i.y2:i.y1,s=t.line.width||0;return n?new ri(o,i.y1,o,i.y2-s):new ri(i.x1,r,i.x2-s,r)},createTitle:function(){var t=this.options,i=p({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(i.visible&&i.text){var n=new Ti(i.text,i);this.append(n),this.title=n}},createNotes:function(){var t=this,i=this.options,n=i.notes,e=n.data||[];this.notes=[];for(var o=0;o<e.length;o++){var r=p({},n,e[o]);r.value=t.parseNoteValue(r.value);var s=new Li({value:r.value,text:r.label.text,dataItem:r},r,t.chartService);s.options.visible&&(wt(s.options.position)?i.vertical&&!ft(s.options.position,[I,E])?s.options.position=i.reverse?I:E:i.vertical||ft(s.options.position,[G,b])||(s.options.position=i.reverse?b:G):i.vertical?s.options.position=i.reverse?I:E:s.options.position=i.reverse?b:G,t.append(s),t.notes.push(s))}},parseNoteValue:function(t){return t},renderVisual:function(){ci.fn.renderVisual.call(this),this.createPlotBands()},createVisual:function(){ci.fn.createVisual.call(this),this.createBackground(),this.createLine()},gridLinesVisual:function(){var t=this._gridLines;return t||(t=this._gridLines=new o({zIndex:-2}),this.appendVisual(this._gridLines)),t},createTicks:function(t){var i=this.options,n=this.lineBox(),e=i.labels.mirror,o=i.majorTicks.visible?i.majorUnit:0,r={vertical:i.vertical};function s(i,o,s){var a=i.length,l=Math.max(1,o.step);if(o.visible)for(var h=o.skip;h<a;h+=l)wt(s)&&h%s==0||(r.tickX=e?n.x2:n.x2-o.size,r.tickY=e?n.y1-o.size:n.y1,r.position=i[h],t.append(Oi(r,o)))}s(this.getMajorTickPositions(),i.majorTicks),s(this.getMinorTickPositions(),i.minorTicks,o/i.minorUnit)},createLine:function(){var t=this.options,i=t.line,n=this.lineBox();if(i.width>0&&i.visible){var r=new e({stroke:{width:i.width,color:i.color,dashType:i.dashType}});r.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t._alignLines&&J(r);var s=this._lineGroup=new o;s.append(r),this.visual.append(s),this.createTicks(s)}},getActualTickSize:function(){var t=this.options,i=0;return t.majorTicks.visible&&t.minorTicks.visible?i=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?i=t.majorTicks.size:t.minorTicks.visible&&(i=t.minorTicks.size),i},createBackground:function(){var t=this.options,i=this.box,n=t.background;n&&(this._backgroundPath=e.fromRect(i.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},createPlotBands:function(){var t=this,i=this.options,n=i.plotBands||[],r=i.vertical,s=this.plotArea;if(0!==n.length){for(var a=this._plotbandGroup=new o({zIndex:-1}),h=ut(this.pane.axes,(function(i){return i.options.vertical!==t.options.vertical}))[0],u=0;u<n.length;u++){var c=n[u],f=void 0,p=void 0,d=c.label,v=void 0;if(r?(f=(h||s.axisX).lineBox(),p=t.getSlot(c.from,c.to,!0)):(f=t.getSlot(c.from,c.to,!0),p=(h||s.axisY).lineBox()),d&&(d.vAlign=d.position||I,v=t.createPlotBandLabel(d,c,new ri(f.x1,p.y1,f.x2,p.y2))),0!==f.width()&&0!==p.height()){var g=new l([f.x1,p.y1],[f.width(),p.height()]),m=e.fromRect(g,{fill:{color:c.color,opacity:c.opacity},stroke:null});a.append(m),v&&a.append(v)}}this.appendVisual(a)}},createPlotBandLabel:function(t,i,n){if(!1===t.visible)return null;var e,o=t.text;if(wt(t)&&t.visible){var r=ht(t);r?o=r({text:o,item:i}):t.format&&(o=this.chartService.format.auto(t.format,o)),t.color||(t.color=this.options.labels.color)}return(e=new Ti(o,t)).reflow(n),e.renderVisual(),e.visual},createGridLines:function(t){var i=this.options,n=i.minorGridLines,e=i.majorGridLines,o=i.minorUnit,r=i.vertical,s=t.options.line.visible,a=e.visible?i.majorUnit:0,l=t.lineBox(),h=l[r?"y1":"x1"],u={lineStart:l[r?"x1":"y1"],lineEnd:l[r?"x2":"y2"],vertical:r},c=[],f=this.gridLinesVisual();function p(t,i,n){var e=t.length,o=Math.max(1,i.step);if(i.visible)for(var r=i.skip;r<e;r+=o){var a=Dt(t[r]);ft(a,c)||r%n==0||s&&h===a||(u.position=a,f.append(_i(u,i)),c.push(a))}}return p(this.getMajorTickPositions(),e),p(this.getMinorTickPositions(),n,a/o),f.children},reflow:function(t){for(var i=this,n=i.options,e=i.labels,o=i.title,r=n.vertical,s=e.length,a=r?H:L,l=o?o.box[a]():0,h=this.getActualTickSize()+n.margin+l,u=((this.getRoot()||{}).box||t)[a](),c=0,f=0;f<s;f++){var p=e[f].box[a]();p+h<=u&&(c=Math.max(c,p))}this.box=r?new ri(t.x1,t.y1,t.x1+c+h,t.y2):new ri(t.x1,t.y1,t.x2,t.y1+c+h),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},getLabelsTickPositions:function(){return this.getMajorTickPositions()},labelTickIndex:function(t){return t.index},arrangeLabels:function(){for(var t=this.options,i=this.labels,n=this.labelsBetweenTicks(),e=t.vertical,o=t.labels.mirror,r=this.getLabelsTickPositions(),s=0;s<i.length;s++){var a=i[s],l=this.labelTickIndex(a),h=e?a.box.height():a.box.width(),u=r[l],c=r[l+1],f=void 0,p=void 0;if(e){if(n)f=u+(c-u)/2-h/2;else f=u-h/2;p=f}else n?(f=u,p=c):p=(f=u-h/2)+h;this.positionLabel(a,o,f,p)}},positionLabel:function(t,i,n,e){void 0===e&&(e=n);var o,r=this.options,s=r.vertical,a=this.lineBox(),l=this.getActualTickSize()+r.margin;if(s){var h=a.x2;i?(h+=l,t.options.rotationOrigin=I):(h-=l+t.box.width(),t.options.rotationOrigin=E),o=t.box.move(h,n)}else{var u=a.y1;i?(u-=l+t.box.height(),t.options.rotationOrigin=b):(u+=l,t.options.rotationOrigin=G),o=new ri(n,u,e,u+t.box.height())}t.reflow(o)},autoRotateLabelAngle:function(t,i){return t.width()<i?0:t.height()>i?-90:-45},autoRotateLabels:function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var t=this.getMajorTickPositions(),i=this.labels,n=Math.min(i.length,t.length-1),e=0,o=0;o<n;o++){var r=Math.abs(t[o+1]-t[o]),s=i[o].box,a=this.autoRotateLabelAngle(s,r);if(0!==a&&(e=a),-90===e)break}if(0!==e){for(var l=0;l<i.length;l++)i[l].options.rotation=e,i[l].reflow(new ri);return!0}},arrangeTitle:function(){var t=this.options,i=this.title,n=t.labels.mirror,e=t.vertical;i&&(e?(i.options.align=n?E:I,i.options.vAlign=i.options.position):(i.options.align=i.options.position,i.options.vAlign=n?G:b),i.reflow(this.box))},arrangeNotes:function(){for(var t=this,i=0;i<this.notes.length;i++){var n=t.notes[i],e=n.options.value,o=void 0;wt(e)?(t.shouldRenderNote(e)?n.show():n.hide(),o=t.noteSlot(e)):n.hide(),n.reflow(o||t.lineBox())}},noteSlot:function(t){return this.getSlot(t)},alignTo:function(t){var i=t.lineBox(),n=this.options.vertical,e=n?q:Y;this.box.snapTo(i,e),n?this.box.shrink(0,this.lineBox().height()-i.height()):this.box.shrink(this.lineBox().width()-i.width(),0),this.box[e+1]-=this.lineBox()[e+1]-i[e+1],this.box[e+2]-=this.lineBox()[e+2]-i[e+2]},axisLabelText:function(i,n,e){var o,r=this,s=ht(n),a=function(){return n.format?r.chartService.format.localeAuto(n.format,[i],n.culture):i};s?o=s(t.extend({},e,{get text(){return a()},value:i,format:n.format,culture:n.culture})):o=a();return o},slot:function(t,i,n){var e=this.getSlot(t,i,n);if(e)return e.toRect()},contentBox:function(){var t=this.box.clone(),i=this.labels;if(i.length){var n=this.options.vertical?q:Y;if(this.chartService.isPannable(n)){var e=this.maxLabelOffset();t[n+1]-=e.start,t[n+2]+=e.end}else{i[0].options.visible&&t.wrap(i[0].box);var o=i[i.length-1];o.options.visible&&t.wrap(o.box)}}return t},maxLabelOffset:function(){for(var t=this.options,i=t.vertical,n=t.reverse,e=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),r=i?q:Y,s=this.labels,a=n?1:0,l=n?0:1,h=0,u=0,c=0;c<s.length;c++){var f=s[c],p=this.labelTickIndex(f),d=void 0,v=void 0;e?(d=o[p+a],v=o[p+l]):d=v=o[p],h=Math.max(h,d-f.box[r+1]),u=Math.max(u,f.box[r+2]-v)}return{start:h,end:u}},limitRange:function(t,i,n,e,o){var r=this.options;if(t<n&&o<0&&(!wt(r.min)||r.min<=n)||e<i&&o>0&&(!wt(r.max)||e<=r.max))return null;if(i<n&&o>0||e<t&&o<0)return{min:t,max:i};var s=i-t,a=t,l=i;return t<n&&o<0?(a=It(t,n,e),l=It(t+s,n+s,e)):i>e&&o>0&&(l=It(i,n,e),a=It(i-s,n,e-s)),{min:a,max:l}},valueRange:function(){return{min:this.seriesMin,max:this.seriesMax}},lineDir:function(){var t=this.options;return(t.vertical?-1:1)*(t.reverse?-1:1)},lineInfo:function(){var t=this.options.vertical,i=this.lineBox(),n=t?i.height():i.width(),e=t?q:Y,o=this.lineDir(),r=e+(1===o?1:2).toString();return{axis:e,axisOrigin:r,axisDir:o,lineBox:i,lineSize:n,lineStart:i[r]}},pointOffset:function(t){var i=this.lineInfo(),n=i.axis,e=i.axisDir,o=i.axisOrigin,r=i.lineBox,s=i.lineSize;return(e>0?t[n]-r[o]:r[o]-t[n])/s},scaleToDelta:function(t,i){var n=It(t,-.999,.999);return n>0?i*Math.min(1,n):i-i/(1+n)},labelsBetweenTicks:function(){return!this.options.justified},prepareUserOptions:function(){}});Ot(Ei,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:x,visible:!0},title:{visible:!0,position:y},majorTicks:{align:_,size:4,skip:0,step:1},minorTicks:{align:_,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:_,minorTickType:D,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:x,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var zi="milliseconds",Vi="seconds",Gi="minutes",Fi="hours",Ni="days",Hi="weeks",Yi="months",qi="years",Xi=1e3,Wi=60*Xi,Ki=60*Wi,Qi=24*Ki,Zi=7*Qi,Ji=31*Qi,$i=365*Qi,tn={years:$i,months:Ji,weeks:Zi,days:Qi,hours:Ki,minutes:Wi,seconds:Xi,milliseconds:1};function nn(t,i){return t.getTime()-i-(t.getTimezoneOffset()-i.getTimezoneOffset())*Wi}function en(t,i){return new Date(t.getTime()+i)}function on(t){var i;return t instanceof Date?i=t:t&&(i=new Date(t)),i}function rn(t,i){void 0===i&&(i=0);var n=0,e=t.getDay();if(!isNaN(e))for(;e!==i;)0===e?e=6:e--,n++;return en(t,-n*Qi)}function sn(t,i){return 0===i&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function an(t,i,n,e){var o=t;if(t){var r=on(t),s=r.getHours();n===qi?sn(o=new Date(r.getFullYear()+i,0,1),0):n===Yi?sn(o=new Date(r.getFullYear(),r.getMonth()+i,1),s):n===Hi?sn(o=an(rn(r,e),7*i,Ni),s):n===Ni?sn(o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+i),s):n===Fi?o=function(t,i){var n=new Date(t);n.setMinutes(0,0,0);var e=(t.getTimezoneOffset()-n.getTimezoneOffset())*Wi;return en(n,e+i*Ki)}(r,i):n===Gi?(o=en(r,i*Wi)).getSeconds()>0&&o.setSeconds(0):n===Vi?o=en(r,i*Xi):n===zi&&(o=en(r,i)),n!==zi&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function ln(t,i,n){return an(on(t),0,i,n)}function hn(t,i,n){var e=on(t);return e&&ln(e,i,n).getTime()===e.getTime()?e:an(e,1,i,n)}function un(t,i){return t&&i?t.getTime()-i.getTime():-1}function cn(t,i){return t.getTime()-i}function fn(t){if(W(t)){for(var i=[],n=0;n<t.length;n++)i.push(fn(t[n]));return i}if(t)return on(t).getTime()}function pn(t,i){return t&&i?fn(t)===fn(i):t===i}function dn(t,i,n){return nn(t,i)/tn[n]}function vn(t,i,n,e){var o=on(t),r=on(i);return(n===Yi?o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())+dn(o,new Date(o.getFullYear(),o.getMonth()),Ni)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():n===qi?o.getFullYear()-r.getFullYear()+vn(o,new Date(o.getFullYear(),0),Yi,1)/12:n===Ni||n===Hi?dn(o,r,n):cn(o,i)/tn[n])/e}function gn(t,i,n){return n===qi?i.getFullYear()-t.getFullYear():n===Yi?12*gn(t,i,qi)+i.getMonth()-t.getMonth():n===Ni?Math.floor(cn(i,t)/Qi):Math.floor(cn(i,t)/tn[n])}function mn(t,i){return it(i)&&t.parseDate(i)||on(i)}function xn(t,i){if(W(i)){for(var n=[],e=0;e<i.length;e++)n.push(mn(t,i[e]));return n}return mn(t,i)}function bn(t,i){return tt(t.weekStartDay)?t.weekStartDay:i&&i.firstDay?i.firstDay():0}var yn=Ei.extend({initFields:function(){this._ticks={}},categoriesHash:function(){return""},clone:function(){var i=new yn(t.extend({},this.options,{categories:this.options.srcCategories}),this.chartService);return i.createLabels(),i},initUserOptions:function(t){var i=t.categories||[],n=wt(t.min),e=wt(t.max);if(t.srcCategories=t.categories=i,(n||e)&&i.length){var o,r=n?Math.floor(t.min):0;o=e?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):i.length,t.categories=t.categories.slice(r,o)}return t},rangeIndices:function(){var t=this.options,i=t.categories.length||1;return{min:tt(t.min)?t.min%1:0,max:tt(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?i-(1-t.max%1):i-(t.justified?1:0)}},range:function(){var t=this.options;return{min:tt(t.min)?t.min:0,max:tt(t.max)?t.max:this.totalRange().max}},roundedRange:function(){return this.range()},totalRange:function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},scaleOptions:function(){var t=this.rangeIndices(),i=t.min,n=t.max,e=this.lineBox();return{scale:(this.options.vertical?e.height():e.width())/(n-i||1)*(this.options.reverse?-1:1),box:e,min:i,max:n}},arrangeLabels:function(){Ei.fn.arrangeLabels.call(this),this.hideOutOfRangeLabels()},hideOutOfRangeLabels:function(){var t=this.box,i=this.labels;if(i.length>0){var n=this.options.vertical?q:Y,e=t[n+1],o=t[n+2],r=i[0],s=At(i);(r.box[n+1]>o||r.box[n+2]<e)&&(r.options.visible=!1),(s.box[n+1]>o||s.box[n+2]<e)&&(s.options.visible=!1)}},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getLabelsTickPositions:function(){return this.getTicks().labelTicks},tickIndices:function(t){for(var i=this.rangeIndices(),n=i.min,e=i.max,o=Math.ceil(e),r=Math.floor(n),s=[];r<=o;)s.push(r),r+=t;return s},getTickPositions:function(t){for(var i=this.options,n=i.vertical,e=i.reverse,o=this.scaleOptions(),r=o.scale,s=o.box,a=o.min,l=s[(n?q:Y)+(e?2:1)],h=this.tickIndices(t),u=[],c=0;c<h.length;c++)u.push(l+Dt(r*(h[c]-a),3));return u},getTicks:function(){var t=this.options,i=this._ticks,n=this.rangeIndices(),e=this.lineBox(),o=e.getHash()+n.min+","+n.max+t.reverse+t.justified;if(i._hash!==o){var r=t.minorTicks.visible||t.minorGridLines.visible;i._hash=o,i.labelTicks=this.getTickPositions(1),i.majorTicks=this.filterOutOfRangePositions(i.labelTicks,e),i.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),e):[]}return i},filterOutOfRangePositions:function(t,i){if(!t.length)return t;for(var n=this.options.vertical?q:Y,e=function(t){return i[n+1]<=t&&t<=i[n+2]},o=t.length-1,r=0;!e(t[r])&&r<=o;)r++;for(var s=o;!e(t[s])&&s>=0;)s--;return t.slice(r,s+1)},lineInfo:function(){var t=this.options,i=t.vertical,n=t.reverse,e=this.lineBox(),o=i?e.height():e.width(),r=i?q:Y,s=n?-1:1,a=r+(1===s?1:2).toString();return{axis:r,axisOrigin:a,axisDir:s,lineBox:e,lineSize:o,lineStart:e[a]}},lineDir:function(){return this.options.reverse?-1:1},getSlot:function(t,i,n){var e=this.options,o=e.reverse,r=e.justified,s=this.scaleOptions(),a=s.scale,l=s.box,h=s.min,u=this.lineInfo(),c=u.axis,f=u.lineStart,p=l.clone(),d=!wt(i),v=Bt(t,0),g=Bt(i,v);g=Math.max(g-1,v);var m=f+(v-h)*a,x=f+((g=Math.max(v,g))+1-h)*a;return d&&r&&(x=m),n&&(m=It(m,l[c+1],l[c+2]),x=It(x,l[c+1],l[c+2])),p[c+1]=o?x:m,p[c+2]=o?m:x,p},limitSlot:function(t){var i=this.options.vertical?q:Y,n=this.lineBox(),e=t.clone();return e[i+1]=It(t[i+1],n[i+1],n[i+2]),e[i+2]=It(t[i+2],n[i+1],n[i+2]),e},slot:function(t,i,n){var e=Math.floor(this.options.min||0),o=t,r=i;return"string"==typeof o?o=this.categoryIndex(o):tt(o)&&(o-=e),"string"==typeof r?r=this.categoryIndex(r):tt(r)&&(r-=e),Ei.fn.slot.call(this,o,r,n)},pointCategoryIndex:function(t){var i=this.options,n=i.reverse,e=i.justified,o=i.vertical?q:Y,r=this.scaleOptions(),s=r.scale,a=r.box,l=r.min,h=r.max,u=n?h:l,c=a[o+1],f=a[o+2],p=t[o];if(p<c||p>f)return null;var d=u+(p-c)/s,v=d%1;return e?d=Math.round(d):0===v&&d>0&&d--,Math.floor(d)},getCategory:function(t){var i=this.pointCategoryIndex(t);return null===i?null:this.options.categories[i]},categoryIndex:function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},categoryAt:function(t,i){var n=this.options;return(i?n.srcCategories:n.categories)[t]},categoriesCount:function(){return(this.options.categories||[]).length},translateRange:function(t){var i=this.options,n=this.lineBox(),e=i.vertical?n.height():n.width(),o=i.categories.length,r=Dt(t/(e/o),R);return{min:r,max:o+r}},scaleRange:function(t,i){var n=Math.abs(this.pointOffset(i)),e=this.limitedRangeIndices(),o=e.max-e.min,r=this.scaleToDelta(t,o),s=n*r,a=(1-n)*r,l=e.min+s,h=e.max-a;return h-l<.1&&(h=l+.1),{min:l,max:h}},zoomRange:function(t,i){var n=this.totalRange(),e=n.min,o=n.max,r=this.scaleRange(t,i);return{min:It(r.min,e,o),max:It(r.max,e,o)}},labelsCount:function(){var t=this.labelsRange();return t.max-t.min},labelsRange:function(){var t=this.options,i=t.justified,n=t.labels,e=this.limitedRangeIndices(!0),o=e.min,r=e.max,s=Math.floor(o);return i?(o=Math.ceil(o),r=Math.floor(r)):(o=Math.floor(o),r=Math.ceil(r)),{min:(o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip)-s,max:(t.categories.length?r+(i?1:0):0)-s}},createAxisLabel:function(t,i,n){var e=this.options,o=e.dataItems?e.dataItems[t]:null,r=Bt(e.categories[t],"");n.dataItem=o;var s=this.axisLabelText(r,i,n);return new ki(r,s,t,o,i)},shouldRenderNote:function(t){var i=this.limitedRangeIndices();return Math.floor(i.min)<=t&&t<=Math.ceil(i.max)},noteSlot:function(t){var i=this.options,n=t-Math.floor(i.min||0);return this.getSlot(n)},arrangeNotes:function(){Ei.fn.arrangeNotes.call(this),this.hideOutOfRangeNotes()},hideOutOfRangeNotes:function(){var t=this.notes,i=this.box;if(t&&t.length)for(var n=this.options.vertical?q:Y,e=i[n+1],o=i[n+2],r=0;r<t.length;r++){var s=t[r];s.box&&(o<s.box[n+1]||s.box[n+2]<e)&&s.hide()}},pan:function(t){var i=this.limitedRangeIndices(!0),n=this.scaleOptions().scale,e=Dt(t/n,R),o=this.totalRange(),r=i.min+e,s=i.max+e;return this.limitRange(r,s,0,o.max,e)},pointsRange:function(t,i){var n=this.options,e=n.reverse,o=n.vertical?q:Y,r=this.limitedRangeIndices(!0),s=this.scaleOptions(),a=s.scale,l=s.box[o+(e?2:1)],h=t[o]-l,u=i[o]-l,c=r.min+h/a,f=r.min+u/a,p=Math.min(c,f),d=Math.max(c,f);if(d-p>=.01)return{min:p,max:d}},valueRange:function(){return this.range()},totalIndex:function(t){var i=this.options,n=this._categoriesMap?this._categoriesMap.get(t):function(t,i){if(t instanceof Date){for(var n=i.length,e=0;e<n;e++)if(pn(i[e],t))return e;return-1}return i.indexOf(t)}(t,i.srcCategories);return n},currentRangeIndices:function(){var t=this.options,i=0;return tt(t.min)&&(i=Math.floor(t.min)),{min:i,max:tt(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1}},limitedRangeIndices:function(t){var i,n=this.options,e=tt(n.min)?n.min:0;if(i=tt(n.max)?n.max:tt(n.min)?e+n.categories.length:this.totalRange().max||1,t){var o=this.totalRange();e=It(e,0,o.max),i=It(i,0,o.max)}return{min:e,max:i}},totalRangeIndices:function(){return{min:0,max:this.totalRange().max||1}},indexCategories:function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new ct,i=this.options.srcCategories,n=0;n<i.length;n++)t.set(i[n],n)},totalCount:function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}});Ot(yn,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:x},labels:{zIndex:1},justified:!1,_deferLabels:!0});var wn=3e5,Mn={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Tn=.2,Sn=[zi,Vi,Gi,Fi,Ni,Hi,Yi,qi],Rn="fit";function kn(t,i){i&&(t._range=void 0);var n=t._range;return n||((n=t._range=Nt(t)).min=on(n.min),n.max=on(n.max)),n}var Ln=r.extend({init:function(t){this.options=t},displayIndices:function(){return{min:0,max:1}},displayRange:function(){return{}},total:function(){return{}},valueRange:function(){return{}},valueIndex:function(){return-1},values:function(){return[]},totalIndex:function(){return-1},valuesCount:function(){return 0},totalCount:function(){return 0},dateAt:function(){return null}}),An=r.extend({init:function(t,i,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var e=n.roundToBaseUnit,o=n.justified;this.start=an(t,0,n.baseUnit,n.weekStartDay);var r=this.roundToTotalStep(i),s=!o&&pn(i,r)&&!n.justifyEnd;this.end=this.roundToTotalStep(i,!o,s?1:0);var a=n.min||t;this.valueStart=this.roundToTotalStep(a),this.displayStart=e?this.valueStart:a;var l=n.max;if(l){var h=!o&&pn(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,h),this.displayEnd=e?this.roundToTotalStep(l,!o):n.max}else this.valueEnd=r,this.displayEnd=e||s?this.end:i;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))},displayRange:function(){return{min:this.displayStart,max:this.displayEnd}},displayIndices:function(){if(!this._indices){var t=this.options,i=t.baseUnit,n=t.baseUnitStep,e=vn(this.displayStart,this.valueStart,i,n),o=vn(this.displayEnd,this.valueStart,i,n);this._indices={min:e,max:o}}return this._indices},total:function(){return{min:this.start,max:this.end}},totalCount:function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},valueRange:function(){return{min:this.valueStart,max:this.valueEnd}},valueIndex:function(t){var i=this.options;return Math.floor(vn(t,this.valueStart,i.baseUnit,i.baseUnitStep))},totalIndex:function(t){var i=this.options;return Math.floor(vn(t,this.start,i.baseUnit,i.baseUnitStep))},dateIndex:function(t){var i=this.options;return vn(t,this.valueStart,i.baseUnit,i.baseUnitStep)},valuesCount:function(){return this.valueIndex(this.valueEnd)+1},values:function(){var t=this._values;if(!t){var i=this.options,n=this.valueRange();this._values=t=[];for(var e=n.min;e<=n.max;)t.push(e),e=an(e,i.baseUnitStep,i.baseUnit,i.weekStartDay)}return t},dateAt:function(t,i){var n=this.options;return an(i?this.start:this.valueStart,n.baseUnitStep*t,n.baseUnit,n.weekStartDay)},roundToTotalStep:function(t,i,n){var e=this.options,o=e.baseUnit,r=e.baseUnitStep,s=e.weekStartDay,a=this.start,l=vn(t,a,o,r),h=i?Math.ceil(l):Math.floor(l);return n&&(h+=n),an(a,h*r,o,s)}});function In(t,i,n){for(var e,o,r,s=kn(t.categories),a=(t.max||s.max)-(t.min||s.min),l=t.autoBaseUnitSteps,h=t.maxDateGroups,u=t.baseUnit===Rn,c=i?Sn.indexOf(i):0,f=u?Sn[c++]:t.baseUnit,p=a/tn[f],d=p;!o||p>=h;){e=e||l[f].slice(0);do{r=e.shift()}while(r&&i===f&&r<n);if(r)p=d/(o=r);else{if(f===At(Sn)){o=Math.ceil(d/h);break}if(!u){p>h&&(o=Math.ceil(d/h));break}f=Sn[c++]||At(Sn),d=a/tn[f],e=null}}t.baseUnitStep=o,t.baseUnit=f}function Un(t){var i=(t.baseUnit||"").toLowerCase();return i!==Rn&&!ft(i,Sn)&&function(t){for(var i,n,e=t.categories,o=wt(e)?e.length:0,r=U,s=0;s<o;s++){var a=e[s];if(a&&i){var l=Math.abs(nn(a,i));0!==l&&(n=(r=Math.min(r,l))>=$i?qi:r>=Ji-3*Qi?Yi:r>=Zi?Hi:r>=Qi?Ni:r>=Ki?Fi:r>=Wi?Gi:Vi)}i=a}t.baseUnit=n||Ni}(t),i!==Rn&&"auto"!==t.baseUnitStep||In(t),t}var jn=yn.extend({clone:function(){var i=new jn(t.extend({},this.options),this.chartService);return i.createLabels(),i},categoriesHash:function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},initUserOptions:function(t){return t},initFields:function(){yn.fn.initFields.call(this);var i=this.chartService,n=i.intl,e=this.options,o=e.categories||[];if(o._parsed||((o=xn(n,o))._parsed=!0),e=p({roundToBaseUnit:!0},e,{categories:o,min:mn(n,e.min),max:mn(n,e.max),weekStartDay:bn(e,n)}),i.panning&&i.isPannable(e.vertical?q:Y)&&(e.roundToBaseUnit=!1),e.userSetBaseUnit=e.userSetBaseUnit||e.baseUnit,e.userSetBaseUnitStep=e.userSetBaseUnitStep||e.baseUnitStep,this.options=e,e.srcCategories=o,o.length>0){var r=kn(o,!0),s=e.maxDivisions,a=Un(e),l=e._forecast;if(l&&(l.before>0&&(r.min=an(r.min,-l.before,a.baseUnit,a.weekStartDay)),l.after>0&&(r.max=an(r.max,l.after,a.baseUnit,a.weekStartDay))),this.dataRange=new An(r.min,r.max,a),s){var h=this.dataRange.displayRange(),u=t.extend({},e,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:h.min,max:h.max,maxDateGroups:s}),c=this.dataRange.options;In(u,c.baseUnit,c.baseUnitStep),this.divisionRange=new An(r.min,r.max,u)}else this.divisionRange=this.dataRange}else e.baseUnit=e.baseUnit||Ni,this.dataRange=this.divisionRange=new Ln(e);this.rangeLabels=[]},tickIndices:function(t){var i=this.dataRange,n=this.divisionRange,e=n.valuesCount();if(!this.options.maxDivisions||!e)return yn.fn.tickIndices.call(this,t);var o=[],r=n.values(),s=0;this.options.justified||(r=r.concat(n.dateAt(e)),s=.5);for(var a=0;a<r.length;a++)if(o.push(i.dateIndex(r[a])+s),1!==t&&a>=1){var l=o.length-1;o.splice(a,0,o[l-1]+(o[l]-o[l-1])*t)}return o},shouldRenderNote:function(t){var i=this.range(),n=this.options.categories||[];return un(t,i.min)>=0&&un(t,i.max)<=0&&n.length},parseNoteValue:function(t){return mn(this.chartService.intl,t)},noteSlot:function(t){return this.getSlot(t)},translateRange:function(t){var i=this.options,n=i.baseUnit,e=i.weekStartDay,o=i.vertical,r=this.lineBox(),s=o?r.height():r.width(),a=this.range(),l=s/(a.max-a.min),h=Dt(t/l,R);if(a.min&&a.max){var u=en(i.min||a.min,h),c=en(i.max||a.max,h);a={min:an(u,0,n,e),max:an(c,0,n,e)}}return a},labelsRange:function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},pan:function(t){if(this.isEmpty())return null;var i=this.options,n=this.lineBox(),e=i.vertical?n.height():n.width(),o=this.dataRange.displayRange(),r=o.min,s=o.max,a=this.dataRange.total(),l=Dt(t/(e/(s-r)),R)*(i.reverse?-1:1),h=en(r,l),u=en(s,l),c=this.limitRange(fn(h),fn(u),fn(a.min),fn(a.max),l);return c?(c.min=on(c.min),c.max=on(c.max),c.baseUnit=i.baseUnit,c.baseUnitStep=i.baseUnitStep||1,c.userSetBaseUnit=i.userSetBaseUnit,c.userSetBaseUnitStep=i.userSetBaseUnitStep,c):void 0},pointsRange:function(t,i){if(this.isEmpty())return null;var n=yn.fn.pointsRange.call(this,t,i),e=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=cn(e.max,e.min)/(o.max-o.min),s=this.options;return{min:en(e.min,n.min*r),max:en(e.min,n.max*r),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}},scaleRange:function(t,i){if(this.isEmpty())return{};var n=this.options,e=n.userSetBaseUnit===Rn,o=this.dataRange.total(),r=this.dataRange.displayRange(),s=r.min,a=r.max,l=Math.abs(this.pointOffset(i)),h=a-s,u=this.scaleToDelta(t,h),c=Math.round(l*u),f=Math.round((1-l)*u),p=this.dataRange.options.baseUnit,d=new Date(s.getTime()+c),v=new Date(a.getTime()-f);if(e){var g,m,x=n.autoBaseUnitSteps,b=n.maxDateGroups,y=At(x[p])*b*tn[p],w=cn(a,s),M=cn(v,d),T=Sn.indexOf(p);if(M<tn[p]&&p!==zi)p=Sn[T-1],d=en(s,m=(w-(b-1)*(g=At(x[p]))*tn[p])/2),v=en(a,-m);else if(M>y&&p!==qi){var S=0;do{T++,p=Sn[T],S=0,m=2*tn[p];do{g=x[p][S],S++}while(S<x[p].length&&m*g<w)}while(p!==qi&&m*g<w);(m=(m*g-w)/2)>0&&(d=en(s,-m),v=en(a,m),d=en(d,It(v,o.min,o.max)-v),v=en(v,It(d,o.min,o.max)-d))}}return d&&v&&cn(v,d)>0?{min:d,max:v,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0},zoomRange:function(t,i){var n=this.dataRange.total(),e=this.scaleRange(t,i);return e&&(e.min<n.min&&(e.min=n.min),e.max>n.max&&(e.max=n.max)),e},range:function(){return this.dataRange.displayRange()},createLabels:function(){yn.fn.createLabels.call(this),this.createRangeLabels()},clearLabels:function(){yn.fn.clearLabels.call(this),this.rangeLabels=[]},arrangeLabels:function(){this.arrangeRangeLabels(),yn.fn.arrangeLabels.call(this)},arrangeRangeLabels:function(){var t=this.options,i=this.rangeLabels;if(0!==i.length){var n=this.lineBox(),e=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,r=i[0];if(r){var s=e?n.y1-r.box.height()/2:n.x1;this.positionLabel(r,o,s)}var a=i[1];if(a){var l=e?n.y2-a.box.height()/2:n.x2;this.positionLabel(a,o,l)}}},autoRotateLabels:function(){yn.fn.autoRotateLabels.call(this),this.autoRotateRangeLabels()},hideOutOfRangeLabels:function(){yn.fn.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},hideOverlappingLabels:function(){var t=this.rangeLabels,i=this.labels;if(0!==t.length){var n=t[0];if(n&&n.options.visible)for(var e=0;e<i.length;e++){if(!s(n,i[e]))break}var o=t[1];if(o&&o.options.visible)for(var r=i.length-1;r>0;--r){if(!s(o,i[r]))break}}function s(t,i){return!(i.options.visible&&!i.box.overlaps(t.box))&&(i.options.visible=!1,!0)}},contentBox:function(){for(var t=yn.fn.contentBox.call(this),i=this.rangeLabels,n=0;n<i.length;n++){var e=i[n];e.options.visible&&t.wrap(e.box)}return t},createAxisLabel:function(t,i,n){void 0===n&&(n={});var e=this.options,o=e.dataItems&&!e.maxDivisions?e.dataItems[t]:null,r=this.divisionRange.dateAt(t),s=i.dateFormats[this.divisionRange.options.baseUnit];i.format=i.format||s,n.dataItem=o;var a=this.axisLabelText(r,i,n);if(a)return new ki(r,a,t,o,i)},createRangeLabels:function(){var i=this,n=this.divisionRange,e=n.displayStart,o=n.displayEnd,r=this.options,s=t.extend({},r.labels,r.rangeLabels,{align:y,zIndex:r.zIndex});if(!0===s.visible){this.normalizeLabelRotation(s),s.alignRotation=y,"auto"===s.rotation&&(s.rotation=0,r.autoRotateRangeLabels=!0);var a=s.dateFormats[this.divisionRange.options.baseUnit];s.format=s.format||a;var l=function(t,n,e){if(e){var o=new ki(n,e,t,null,s);i.append(o),i.rangeLabels.push(o)}};l(0,e,this.axisLabelText(e,s,{index:0,count:2})),l(1,o,this.axisLabelText(o,s,{index:1,count:2}))}},autoRotateRangeLabels:function(){var t=this,i=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===i.length){var n=function(i,n,e){var o=2*Math.abs(n[e+1]-n[e]),r=t.autoRotateLabelAngle(i.box,o);0!==r&&(i.options.rotation=r,i.reflow(new ri))},e=this.getMajorTickPositions();n(i[0],e,0),n(i[1],e,e.length-2)}},categoryIndex:function(t){return this.dataRange.valueIndex(t)},slot:function(t,i,n){var e=this.dataRange,o=t,r=i;o instanceof Date&&(o=e.dateIndex(o)),r instanceof Date&&(r=e.dateIndex(r));var s=this.getSlot(o,r,n);if(s)return s.toRect()},getSlot:function(t,i,n){var e=t,o=i;return typeof e===O&&(e=this.categoryIndex(e)),typeof o===O&&(o=this.categoryIndex(o)),yn.fn.getSlot.call(this,e,o,n)},valueRange:function(){var t=kn(this.options.srcCategories);return{min:on(t.min),max:on(t.max)}},categoryAt:function(t,i){return this.dataRange.dateAt(t,i)},categoriesCount:function(){return this.dataRange.valuesCount()},rangeIndices:function(){return this.dataRange.displayIndices()},labelsBetweenTicks:function(){return!this.divisionRange.options.justified},prepareUserOptions:function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},getCategory:function(t){var i=this.pointCategoryIndex(t);return null===i?null:this.dataRange.dateAt(i)},totalIndex:function(t){return this.dataRange.totalIndex(t)},currentRangeIndices:function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},totalRange:function(){return this.dataRange.total()},totalRangeIndices:function(){var t=this.dataRange.total();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},totalCount:function(){return this.dataRange.totalCount()},isEmpty:function(){return!this.options.srcCategories.length},roundedRange:function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var i=this.options,n=kn(i.srcCategories);return new An(n.min,n.max,t.extend({},i,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()}});function Dn(t,i){return Dt(Math.floor(t/i)*i,R)}function Pn(t,i){return Dt(Math.ceil(t/i)*i,R)}function Bn(t){return Math.max(Math.min(t,wn),-3e5)}Ot(jn,{type:T,labels:{dateFormats:Mn},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var Cn=Math.pow(10,1-R),On=Ei.extend({init:function(i,n,e,o){Ei.fn.init.call(this,t.extend({},e,{seriesMin:i,seriesMax:n}),o)},initUserOptions:function(t){var i=function(t,i,n){var e=n.narrowRange,o=function(t,i,n){if(!t&&!i)return 0;var e;if(t>=0&&i>=0){var o=t===i?0:t;if(!1===n||!n&&(i-o)/i>Tn)return 0;e=Math.max(0,o-(i-o)/2)}else e=t;return e}(t,i,e),r=function(t,i,n){if(!t&&!i)return 1;var e;if(t<=0&&i<=0){var o=t===i?0:i,r=Math.abs((o-t)/o);if(!1===n||!n&&r>Tn)return 0;e=Math.min(0,o-(t-o)/2)}else e=i;return e}(t,i,e),s=ei(o,r),a={majorUnit:s};!1!==n.roundToMajorUnit&&(o<0&&_n(o,s,1/3)&&(o-=s),r>0&&_n(r,s,1/3)&&(r+=s));return a.min=Dn(o,s),a.max=Pn(r,s),a}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function(t,i){return{min:wt(i.min)?Math.min(t.min,i.min):t.min,max:wt(i.max)?Math.max(t.max,i.max):t.max,majorUnit:t.majorUnit}}(i,t),function(t,i){var n,e,o=i;if(i){!function(t,i){for(var n=0;n<i.length;n++){var e=i[n];null===t[e]&&(t[e]=void 0)}}(i,["min","max"]),n=wt(i.min),e=wt(i.max);var r=n||e;r&&i.min===i.max&&(i.min>0?i.min=0:i.max=1),i.majorUnit?(t.min=Dn(t.min,i.majorUnit),t.max=Pn(t.max,i.majorUnit)):r&&(o=p(t,i),t.majorUnit=ei(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var s=p(t,o);s.min>=s.max&&(n&&!e?s.max=s.min+s.majorUnit:!n&&e&&(s.min=s.max-s.majorUnit));return s}(i,t)},initFields:function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},clone:function(){return new On(this.seriesMin,this.seriesMax,t.extend({},this.options),this.chartService)},startValue:function(){return 0},range:function(){var t=this.options;return{min:t.min,max:t.max}},getDivisions:function(t){if(0===t)return 1;var i=this.options,n=i.max-i.min;return Math.floor(Dt(n/t,3))+1},getTickPositions:function(t,i){var n=this.options,e=this.lineInfo(),o=e.axisDir,r=e.axisOrigin,s=e.lineBox,a=t*(e.lineSize/(n.max-n.min)),l=this.getDivisions(t),h=[],u=s[r],c=0;i&&(c=i/t);for(var f=0;f<l;f++)f%c!=0&&h.push(Dt(u,3)),u+=a*o;return h},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(t,i,n){void 0===n&&(n=!1);var e=this.options,o=this.lineInfo(),r=o.axis,s=o.axisDir,a=o.lineBox,l=o.lineSize,h=o.lineStart,u=s*(l/(e.max-e.min)),c=Bt(t,i||0),f=Bt(i,t||0);n&&(c=It(c,e.min,e.max),f=It(f,e.min,e.max));var p=Math.min(c,f)-e.min,d=Math.max(c,f)-e.min,v=new ri(a.x1,a.y1,a.x1,a.y1);return v[r+1]=Bn(h+u*(s>0?p:d)),v[r+2]=Bn(h+u*(s>0?d:p)),v},getValue:function(t){var i=this.options,n=Number(i.max),e=Number(i.min),o=this.pointOffset(t);return o<0||o>1?null:Dt(e+o*(n-e),R)},translateRange:function(t){var i=this.options,n=i.vertical,e=i.reverse,o=i.max,r=i.min,s=this.lineInfo().lineSize,a=Dt(t/(s/(o-r)),R);return!n&&!e||n&&e||(a=-a),{min:r+a,max:o+a,offset:a}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,i,n){var e=this.options,o=Dt(e.min+t*e.majorUnit,R),r=this.axisLabelText(o,i,n);return new ki(o,r,t,null,i)},shouldRenderNote:function(t){var i=this.range();return i.min<=t&&t<=i.max},pan:function(t){var i=this.translateRange(t);return this.limitRange(i.min,i.max,this.totalMin,this.totalMax,i.offset)},pointsRange:function(t,i){var n=this.getValue(t),e=this.getValue(i),o=Math.min(n,e),r=Math.max(n,e);if(this.isValidRange(o,r))return{min:o,max:r}},scaleRange:function(t,i){var n=Math.abs(this.pointOffset(i)),e=this.options.max-this.options.min,o=this.scaleToDelta(t,e),r=n*o,s=(1-n)*o,a=Dt(this.options.min+r,R),l=Dt(this.options.max-s,R);return l-a<Cn&&(l=a+Cn),{min:a,max:l}},zoomRange:function(t,i){var n=this.totalMin,e=this.totalMax,o=this.scaleRange(t,i);return{min:It(o.min,n,e),max:It(o.max,n,e),narrowRange:!1}},isValidRange:function(t,i){return i-t>Cn}});function _n(t,i,n){var e=Dt(Math.abs(t%i),R);return 0===e||e>i*(1-n)}Ot(On,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:x},labels:{format:"#.####################"},zIndex:1});var En=Ei.extend({init:function(t,i,n,e){var o=on(t),r=on(i),s=e.intl,a=n||{};a=function(t,i,n){var e=n.min||t,o=n.max||i,r=n.baseUnit||(o&&e?function(t){var i=Fi;t>=$i?i=qi:t>=Ji?i=Yi:t>=Zi?i=Hi:t>=Qi&&(i=Ni);return i}(nn(o,e)):Fi),s=tn[r],a=n.weekStartDay||0,l=ln(fn(e)-1,r,a)||on(o),h=hn(fn(o)+1,r,a),u=n.majorUnit?n.majorUnit:void 0,c=u||Pn(ei(l.getTime(),h.getTime()),s)/s,f=gn(l,h,r),p=Pn(f,c)-f,d=Math.floor(p/2),v=p-d;n.baseUnit||delete n.baseUnit;return n.baseUnit=n.baseUnit||r,n.min=n.min||an(l,-d,r,a),n.max=n.max||an(h,v,r,a),n.minorUnit=n.minorUnit||c/5,n.majorUnit=c,n}(o,r,a=p(a||{},{min:mn(s,a.min),max:mn(s,a.max),axisCrossingValue:xn(s,a.axisCrossingValues||a.axisCrossingValue),weekStartDay:bn(a,s)})),Ei.fn.init.call(this,a,e),this.intlService=s,this.seriesMin=o,this.seriesMax=r;var l=a.weekStartDay||0;this.totalMin=fn(ln(fn(o)-1,a.baseUnit,l)),this.totalMax=fn(hn(fn(r)+1,a.baseUnit,l))},clone:function(){return new En(this.seriesMin,this.seriesMax,t.extend({},this.options),this.chartService)},range:function(){var t=this.options;return{min:t.min,max:t.max}},getDivisions:function(t){var i=this.options;return Math.floor(gn(i.min,i.max,i.baseUnit)/t+1)},getTickPositions:function(t){for(var i=this.options,n=this.lineInfo(),e=n.axisDir,o=n.lineSize,r=n.lineStart,s=this.getDivisions(t),a=o/cn(i.max,i.min),l=i.weekStartDay||0,h=[r],u=1;u<s;u++){var c=r+cn(an(i.min,u*t,i.baseUnit,l),i.min)*a*e;h.push(Dt(c,3))}return h},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(t,i,n){return On.prototype.getSlot.call(this,mn(this.intlService,t),mn(this.intlService,i),n)},getValue:function(t){var i=On.prototype.getValue.call(this,t);return null!==i?on(i):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,i,n){var e=this.options,o=t*e.majorUnit,r=e.weekStartDay||0,s=e.min;o>0&&(s=an(s,o,e.baseUnit,r));var a=i.dateFormats[e.baseUnit];i.format=i.format||a;var l=this.axisLabelText(s,i,n);return new ki(s,l,t,null,i)},translateRange:function(t){var i=this.options,n=this.lineBox(),e=i.vertical,o=i.reverse,r=e?n.height():n.width(),s=this.range(),a=r/cn(s.max,s.min),l=Dt(t/a,R);return!e&&!o||e&&o||(l=-l),{min:en(i.min,l),max:en(i.max,l),offset:l}},shouldRenderNote:function(t){var i=this.range();return un(t,i.min)>=0&&un(t,i.max)<=0},pan:function(t){var i=this.translateRange(t,!0),n=this.limitRange(fn(i.min),fn(i.max),this.totalMin,this.totalMax,i.offset);if(n)return{min:on(n.min),max:on(n.max)}},pointsRange:function(t,i){var n=this.getValue(t),e=this.getValue(i),o=Math.min(n,e),r=Math.max(n,e);return{min:on(o),max:on(r)}},scaleRange:function(t,i){var n=Math.abs(this.pointOffset(i)),e=this.options.max-this.options.min,o=this.scaleToDelta(t,e),r=n*o,s=(1-n)*o,a=on(fn(this.options.min)+r),l=on(fn(this.options.max)-s);return l-a<1e3&&(l=on(fn(a)+1e3)),{min:a,max:l}},zoomRange:function(t,i){var n=this.scaleRange(t,i);return{min:on(It(fn(n.min),this.totalMin,this.totalMax)),max:on(It(fn(n.max),this.totalMin,this.totalMax))}}});Ot(En,{type:T,majorGridLines:{visible:!0,width:1,color:x},labels:{dateFormats:Mn}});var zn=1e-6,Vn=Ei.extend({init:function(t,i,n,e){var o=p({majorUnit:10,min:t,max:i},n),r=o.majorUnit,s=function(t,i){var n,e=Dt(Fn(t,i),R)%1;n=t<=0?i:0!==e&&(e<.3||e>.9)?Math.pow(i,Fn(t,i)+.2):Math.pow(i,Math.ceil(Fn(t,i)));return n}(i,r),a=function(t,i,n){var e=n.majorUnit,o=t;t<=0?o=i<=1?Math.pow(e,-2):1:n.narrowRange||(o=Math.pow(e,Math.floor(Fn(t,e))));return o}(t,i,o),l=function(t,i,n,e){var o=n.min,r=n.max;wt(n.axisCrossingValue)&&n.axisCrossingValue<=0&&Gn();wt(e.max)?e.max<=0&&Gn():r=i;wt(e.min)?e.min<=0&&Gn():o=t;return{min:o,max:r}}(a,s,o,n);o.max=l.max,o.min=l.min,o.minorUnit=n.minorUnit||Dt(r-1,R),Ei.fn.init.call(this,o,e),this.totalMin=wt(n.min)?Math.min(a,n.min):a,this.totalMax=wt(n.max)?Math.max(s,n.max):s,this.logMin=Dt(Fn(l.min,r),R),this.logMax=Dt(Fn(l.max,r),R),this.seriesMin=t,this.seriesMax=i,this.createLabels()},clone:function(){return new Vn(this.seriesMin,this.seriesMax,t.extend({},this.options),this.chartService)},startValue:function(){return this.options.min},getSlot:function(t,i,n){var e=this,o=e.options,r=e.logMin,s=e.logMax,a=o.majorUnit,l=o.min,h=o.max,u=this.lineInfo(),c=u.axis,f=u.axisDir,p=u.lineBox,d=u.lineSize,v=u.lineStart,g=f*(d/(s-r)),m=Bt(t,i||1),x=Bt(i,t||1);if(m<=0||x<=0)return null;n&&(m=It(m,l,h),x=It(x,l,h)),m=Fn(m,a),x=Fn(x,a);var b=Math.min(m,x)-r,y=Math.max(m,x)-r,w=new ri(p.x1,p.y1,p.x1,p.y1);return w[c+1]=Bn(v+g*(f>0?b:y)),w[c+2]=Bn(v+g*(f>0?y:b)),w},getValue:function(t){var i=this,n=i.options,e=i.logMin,o=i.logMax,r=n.majorUnit,s=this.lineInfo(),a=s.axis,l=s.axisDir,h=s.lineStart,u=s.lineSize,c=(o-e)/u,f=l*(t[a]-h);if(f<0||f>u)return null;var p=e+f*c;return Dt(Math.pow(r,p),R)},range:function(){var t=this.options;return{min:t.min,max:t.max}},translateRange:function(t){var i=this,n=i.options,e=i.logMin,o=i.logMax,r=n.reverse,s=n.vertical,a=n.majorUnit,l=this.lineBox(),h=s?l.height():l.width(),u=Dt(t/(h/(o-e)),R);return!s&&!r||s&&r||(u=-u),{min:Math.pow(a,e+u),max:Math.pow(a,o+u),offset:u}},labelsCount:function(){var t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1},getMajorTickPositions:function(){var t=[];return this.traverseMajorTicksPositions((function(i){t.push(i)}),{step:1,skip:0}),t},createTicks:function(t){var i=this.options,n=i.majorTicks,e=i.minorTicks,o=i.vertical,r=i.labels.mirror,s=this.lineBox(),a={vertical:o};function l(i,n){a.tickX=r?s.x2:s.x2-n.size,a.tickY=r?s.y1-n.size:s.y1,a.position=i,t.append(Oi(a,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),e.visible&&this.traverseMinorTicksPositions(l,e),[]},createGridLines:function(t){var i=this.options,n=i.minorGridLines,e=i.majorGridLines,o=i.vertical,r=t.lineBox(),s={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},a=[],l=this.gridLinesVisual();function h(t,i){ft(t,a)||(s.position=t,l.append(_i(s,i)),a.push(t))}return e.visible&&this.traverseMajorTicksPositions(h,e),n.visible&&this.traverseMinorTicksPositions(h,n),l.children},traverseMajorTicksPositions:function(t,i){for(var n=this.lineInfo(),e=n.lineStart,o=n.step,r=this.logMin,s=this.logMax,a=Math.ceil(r)+i.skip;a<=s;a+=i.step){t(Dt(e+o*(a-r),R),i)}},traverseMinorTicksPositions:function(t,i){for(var n=this.options,e=n.min,o=n.max,r=n.minorUnit,s=n.majorUnit,a=this.lineInfo(),l=a.lineStart,h=a.step,u=this.logMin,c=this.logMax,f=Math.floor(u);f<c;f++)for(var p=this._minorIntervalOptions(f),d=i.skip;d<r;d+=i.step){var v=p.value+d*p.minorStep;if(v>o)break;if(v>=e)t(Dt(l+h*(Fn(v,s)-u),R),i)}},createAxisLabel:function(t,i,n){var e=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,e),r=this.axisLabelText(o,i,n);return new ki(o,r,t,null,i)},shouldRenderNote:function(t){var i=this.range();return i.min<=t&&t<=i.max},pan:function(t){var i=this.translateRange(t);return this.limitRange(i.min,i.max,this.totalMin,this.totalMax,i.offset)},pointsRange:function(t,i){var n=this.getValue(t),e=this.getValue(i);return{min:Math.min(n,e),max:Math.max(n,e)}},scaleRange:function(t,i){var n=this.options.majorUnit,e=Fn(this.options.min,n),o=Fn(this.options.max,n),r=Math.abs(this.pointOffset(i)),s=o-e,a=this.scaleToDelta(t,s),l=Math.pow(n,e+r*a),h=Math.pow(n,o-(1-r)*a);return h-l<zn&&(h=l+zn),{min:l,max:h}},zoomRange:function(t,i){var n=this.scaleRange(t,i),e=this.totalMin,o=this.totalMax;return{min:It(n.min,e,o),max:It(n.max,e,o)}},_minorIntervalOptions:function(t){var i=this.options,n=i.minorUnit,e=i.majorUnit,o=Math.pow(e,t);return{value:o,minorStep:(Math.pow(e,t+1)-o)/n}},lineInfo:function(){var t=Ei.fn.lineInfo.call(this);return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t}});function Gn(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Fn(t,i){return Math.log(t)/Math.log(i)}Ot(Vn,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:x},zIndex:1,_deferLabels:!0});var Nn={createGridLines:function(t){var i,n,e=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),r=[],s=!1;return e.majorGridLines.visible&&(i=this.majorGridLineAngles(t),s=!0,r=this.renderMajorGridLines(i,o,e.majorGridLines)),e.minorGridLines.visible&&(n=this.minorGridLineAngles(t,s),bt(r,this.renderMinorGridLines(n,o,e.minorGridLines,t,s))),r},renderMajorGridLines:function(t,i,n){return this.renderGridLines(t,i,n)},renderMinorGridLines:function(t,i,n,e,o){var r=this.radiusCallback&&this.radiusCallback(i,e,o);return this.renderGridLines(t,i,n,r)},renderGridLines:function(t,i,n,o){for(var r={stroke:{width:n.width,color:n.color,dashType:n.dashType}},s=this.box.center(),a=new h([s.x,s.y],i),l=this.gridLinesVisual(),u=0;u<t.length;u++){var c=new e(r);o&&(a.radius=o(t[u])),c.moveTo(a.center).lineTo(a.pointAt(t[u]+180)),l.append(c)}return l.children},gridLineAngles:function(t,i,n,e,o){var r=this,s=this.intervals(i,n,e,o),a=t.options,l=a.visible&&!1!==(a.line||{}).visible;return gt(s,(function(t){var i=r.intervalAngle(t);if(!l||90!==i)return i}))}},Hn=yn.extend({range:function(){return{min:0,max:this.options.categories.length}},reflow:function(t){this.box=t,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){for(var t=this.labels,i=this.options.labels,n=i.skip||0,e=i.step||1,o=new ri,r=0;r<t.length;r++){t[r].reflow(o);var s=t[r].box;t[r].reflow(this.getSlot(n+r*e).adjacentBox(0,s.width(),s.height()))}},intervals:function(t,i,n,e){void 0===e&&(e=!1);for(var o=this.options,r=o.categories.length/t||1,s=360/r,a=n||1,l=[],h=0,u=i||0;u<r;u+=a)h=o.reverse?360-u*s:u*s,h=Dt(h,3)%360,e&&ft(h,e)||l.push(h);return l},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(t){return(360+t+this.options.startAngle)%360},majorAngles:function(){var t=this;return gt(this.majorIntervals(),(function(i){return t.intervalAngle(i)}))},createLine:function(){return[]},majorGridLineAngles:function(t){var i=this.options.majorGridLines;return this.gridLineAngles(t,1,i.skip,i.step)},minorGridLineAngles:function(t,i){var n=this.options,e=n.minorGridLines,o=n.majorGridLines,r=i?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,e.skip,e.step,r)},radiusCallback:function(t,i,n){if(i.options.type!==g){var e=jt(360/(2*this.options.categories.length)),o=Math.cos(e)*t,r=this.majorAngles();return function(i){return!n&&ft(i,r)?t:o}}},createPlotBands:function(){for(var t=this.options.plotBands||[],i=this._plotbandGroup=new o({zIndex:-1}),n=0;n<t.length;n++){var e=t[n],r=this.plotBandSlot(e),s=this.getSlot(e.from),a=e.from-Math.floor(e.from);r.startAngle+=a*s.angle;var l=Math.ceil(e.to)-e.to;r.angle-=(l+a)*s.angle;var h=ui.current.createRing(r,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:e.opacity}});i.append(h)}this.appendVisual(i)},plotBandSlot:function(t){return this.getSlot(t.from,t.to-1)},getSlot:function(t,i){var n=this.options,e=n.justified,o=this.box,r=this.majorAngles(),s=r.length,a=360/s,l=t;n.reverse&&!e&&(l=(l+1)%s);var h=r[l=It(Math.floor(l),0,s-1)];e&&(h-=a/2)<0&&(h+=360);var u=a*(It(Math.ceil(i||l),l,s-1)-l+1);return new ai(o.center(),0,o.height()/2,h,u)},slot:function(t,i){var n=this.getSlot(t,i),e=n.startAngle+180,o=e+n.angle;return new a.Arc([n.center.x,n.center.y],{startAngle:e,endAngle:o,radiusX:n.radius,radiusY:n.radius})},pointCategoryIndex:function(t){for(var i=this.options.categories.length,n=null,e=0;e<i;e++){if(this.getSlot(e).containsPoint(t)){n=e;break}}return n}});Ot(Hn,{startAngle:90,labels:{margin:st(10)},majorGridLines:{visible:!0},justified:!0}),p(Hn.prototype,Nn);var Yn=Ei.extend({init:function(t,i){Ei.fn.init.call(this,t,i);var n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2},getDivisions:function(t){return On.prototype.getDivisions.call(this,t)-1},reflow:function(t){this.box=t,this.reflowLabels()},reflowLabels:function(){for(var t=this,i=t.options,n=t.labels,e=t.options.labels,o=e.skip||0,r=e.step||1,s=new ri,a=this.intervals(i.majorUnit,o,r),l=0;l<n.length;l++){n[l].reflow(s);var h=n[l].box;n[l].reflow(this.getSlot(a[l]).adjacentBox(0,h.width(),h.height()))}},lineBox:function(){return this.box},intervals:function(t,i,n,e){void 0===e&&(e=!1);for(var o=this.options.min,r=this.getDivisions(t),s=[],a=n||1,l=i||0;l<r;l+=a){var h=(360+o+l*t)%360;e&&ft(h,e)||s.push(h)}return s},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(t){return(540-t-this.options.startAngle)%360},createLine:function(){return[]},majorGridLineAngles:function(t){var i=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,i.skip,i.step)},minorGridLineAngles:function(t,i){var n=this.options,e=n.minorGridLines,o=n.majorGridLines,r=i?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,n.minorUnit,e.skip,e.step,r)},plotBandSlot:function(t){return this.getSlot(t.from,t.to)},getSlot:function(t,i){var n=this.options,e=this.box,o=n.startAngle,r=It(t,n.min,n.max),s=It(i||r,r,n.max);if(n.reverse&&(r*=-1,s*=-1),(s=(540-s-o)%360)<(r=(540-r-o)%360)){var a=r;r=s,s=a}return new ai(e.center(),0,e.height()/2,r,s-r)},slot:function(t,i){void 0===i&&(i=t);var n,e,o=this.options,r=360-o.startAngle,s=this.getSlot(t,i),l=Math.min(t,i),h=Math.max(t,i);return o.reverse?(n=l,e=h):(n=360-h,e=360-l),n=(n+r)%360,e=(e+r)%360,new a.Arc([s.center.x,s.center.y],{startAngle:n,endAngle:e,radiusX:s.radius,radiusY:s.radius})},getValue:function(t){var i=this.options,n=this.box.center(),e=t.x-n.x,o=t.y-n.y,r=Math.round(Mt(Math.atan2(o,e))),s=i.startAngle;return i.reverse||(r*=-1,s*=-1),(r+s+360)%360},valueRange:function(){return{min:0,max:2*Math.PI}}});Ot(Yn,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:st(10)},majorGridLines:{color:x,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),p(Yn.prototype,Nn,{createPlotBands:Hn.prototype.createPlotBands,majorAngles:Hn.prototype.majorAngles,range:On.prototype.range,labelsCount:On.prototype.labelsCount,createAxisLabel:On.prototype.createAxisLabel});var qn={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this.options,i=t.majorGridLines.type,n=t.plotBands;void 0===n&&(n=[]);for(var r=this.plotArea.polarAxis,s=r.majorAngles(),a=r.box.center(),l=this._plotbandGroup=new o({zIndex:-1}),h=0;h<n.length;h++){var u=n[h],c={fill:{color:u.color,opacity:u.opacity},stroke:{opacity:u.opacity}},f=this.getSlot(u.from,u.to,!0),p=new ai(a,a.y-f.y2,a.y-f.y1,0,360),d=void 0;d=i===g?ui.current.createRing(p,c):e.fromPoints(this.plotBandPoints(p,s),c).close(),l.append(d)}this.appendVisual(l)},plotBandPoints:function(t,i){for(var n=[],e=[],o=[t.center.x,t.center.y],r=new h(o,t.innerRadius),s=new h(o,t.radius),a=0;a<i.length;a++)n.push(r.pointAt(i[a]+180)),e.push(s.pointAt(i[a]+180));return n.reverse(),n.push(n[0]),e.push(e[0]),e.concat(n)},createGridLines:function(t){var i=this.options,n=this.radarMajorGridLinePositions(),e=t.majorAngles(),o=t.box.center(),r=[];if(i.majorGridLines.visible&&(r=this.renderGridLines(o,n,e,i.majorGridLines)),i.minorGridLines.visible){var s=this.radarMinorGridLinePositions();bt(r,this.renderGridLines(o,s,e,i.minorGridLines))}return r},renderGridLines:function(t,n,o,r){var s={stroke:{width:r.width,color:r.color,dashType:r.dashType}},a=r.skip;void 0===a&&(a=0);var l=r.step;void 0===l&&(l=0);for(var u=this.gridLinesVisual(),c=a;c<n.length;c+=l){var f=t.y-n[c];if(f>0){var p=new h([t.x,t.y],f);if(r.type===g)u.append(new i.Circle(p,s));else{for(var d=new e(s),v=0;v<o.length;v++)d.lineTo(p.pointAt(o[v]+180));d.close(),u.append(d)}}}return u.children},getValue:function(t){var i=this.lineBox(),n=this.plotArea.polarAxis,e=n.majorAngles(),o=n.box.center(),r=t.distanceTo(o),s=r;if(this.options.majorGridLines.type!==g&&e.length>1){var a=t.x-o.x,l=t.y-o.y,h=(Mt(Math.atan2(l,a))+540)%360;e.sort((function(t,i){return Xn(t,h)-Xn(i,h)}));var u=90-Xn(e[0],e[1])/2,c=180-Xn(h,e[0])-u;s=r*(Math.sin(jt(c))/Math.sin(jt(u)))}return this.axisType().prototype.getValue.call(this,new oi(i.x1,i.y2-s))}};function Xn(t,i){return 180-Math.abs(Math.abs(t-i)-180)}var Wn=On.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var t=this.options,i=0;return t.majorGridLines.visible&&(i=t.majorUnit),this.getTickPositions(t.minorUnit,i)},axisType:function(){return On}});p(Wn.prototype,qn);var Kn=Vn.extend({radarMajorGridLinePositions:function(){var t=[];return this.traverseMajorTicksPositions((function(i){t.push(i)}),this.options.majorGridLines),t},radarMinorGridLinePositions:function(){var t=[];return this.traverseMinorTicksPositions((function(i){t.push(i)}),this.options.minorGridLines),t},axisType:function(){return Vn}});p(Kn.prototype,qn);var Qn=r.extend({init:function(t){this.closed=t},process:function(t){var i=t.slice(0),n=[],e=this.closed,o=i.length;if(o>2&&(this.removeDuplicates(0,i),o=i.length),o<2||2===o&&i[0].equals(i[1]))return n;var r,s,a=i[0],l=i[1],h=i[2];for(n.push(new c(a));a.equals(i[o-1]);)e=!0,i.pop(),o--;if(2===o){var u=this.tangent(a,l,Y,q);return At(n).controlOut(this.firstControlPoint(u,a,l,Y,q)),n.push(new c(l,this.secondControlPoint(u,a,l,Y,q))),n}if(e){a=i[o-1],l=i[0],h=i[1];var f=this.controlPoints(a,l,h);r=f[1],s=f[0]}else{var p=this.tangent(a,l,Y,q);r=this.firstControlPoint(p,a,l,Y,q)}for(var d=r,v=0;v<=o-3;v++)if(this.removeDuplicates(v,i),v+3<=(o=i.length)){a=i[v],l=i[v+1],h=i[v+2];var g=this.controlPoints(a,l,h);At(n).controlOut(d),d=g[1];var m=g[0];n.push(new c(l,m))}if(e){a=i[o-2],l=i[o-1],h=i[0];var x=this.controlPoints(a,l,h);At(n).controlOut(d),n.push(new c(l,x[0])),At(n).controlOut(x[1]),n.push(new c(h,s))}else{var b=this.tangent(l,h,Y,q);At(n).controlOut(d),n.push(new c(h,this.secondControlPoint(b,l,h,Y,q)))}return n},removeDuplicates:function(t,i){for(;i[t+1]&&(i[t].equals(i[t+1])||i[t+1].equals(i[t+2]));)i.splice(t+1,1)},invertAxis:function(t,i,n){var e=!1;if(t.x===i.x)e=!0;else if(i.x===n.x)(i.y<n.y&&t.y<=i.y||n.y<i.y&&i.y<=t.y)&&(e=!0);else{var o=this.lineFunction(t,i),r=this.calculateFunction(o,n.x);t.y<=i.y&&n.y<=r||i.y<=t.y&&n.y>=r||(e=!0)}return e},isLine:function(t,i,n){var e=this.lineFunction(t,i),o=this.calculateFunction(e,n.x);return t.x===i.x&&i.x===n.x||Dt(o,1)===Dt(n.y,1)},lineFunction:function(t,i){var n=(i.y-t.y)/(i.x-t.x);return[t.y-n*t.x,n]},controlPoints:function(t,i,n){var e,o=Y,r=q,s=!1,a=!1;if(this.isLine(t,i,n))e=this.tangent(t,i,Y,q);else{var l={x:this.isMonotonicByField(t,i,n,Y),y:this.isMonotonicByField(t,i,n,q)};if(l.x&&l.y)e=this.tangent(t,n,Y,q),s=!0;else if(this.invertAxis(t,i,n)&&(o=q,r=Y),l[o])e=0;else e=.01*(n[r]<t[r]&&t[r]<=i[r]||t[r]<n[r]&&i[r]<=t[r]?Zn((n[r]-t[r])*(i[o]-t[o])):-Zn((n[o]-t[o])*(i[r]-t[r]))),a=!0}var h=this.secondControlPoint(e,t,i,o,r);if(a){var u=o;o=r,r=u}var c=this.firstControlPoint(e,i,n,o,r);return s&&(this.restrictControlPoint(t,i,h,e),this.restrictControlPoint(i,n,c,e)),[h,c]},restrictControlPoint:function(t,i,n,e){t.y<i.y?i.y<n.y?(n.x=t.x+(i.y-t.y)/e,n.y=i.y):n.y<t.y&&(n.x=i.x-(i.y-t.y)/e,n.y=t.y):n.y<i.y?(n.x=t.x-(t.y-i.y)/e,n.y=i.y):t.y<n.y&&(n.x=i.x+(t.y-i.y)/e,n.y=t.y)},tangent:function(t,i,n,e){var o=i[n]-t[n],r=i[e]-t[e];return 0===o?0:r/o},isMonotonicByField:function(t,i,n,e){return n[e]>i[e]&&i[e]>t[e]||n[e]<i[e]&&i[e]<t[e]},firstControlPoint:function(t,i,n,e,o){var r=i[e],s=.333*(n[e]-r);return this.point(r+s,i[o]+s*t,e,o)},secondControlPoint:function(t,i,n,e,o){var r=i[e],s=n[e],a=.333*(s-r);return this.point(s-a,n[o]-a*t,e,o)},point:function(t,i,n,e){var o=new a.Point;return o[n]=t,o[e]=i,o},calculateFunction:function(t,i){for(var n=t.length,e=0,o=0;o<n;o++)e+=Math.pow(i,o)*t[o];return e}});function Zn(t){return t<=0?-1:1}f.Gradients=vi,kendo.deepExtend(kendo.dataviz,{constants:X,services:Ci,autoMajorUnit:ei,Point:oi,Box:ri,Ring:ai,Sector:hi,ShapeBuilder:ui,ShapeElement:pi,ChartElement:ci,BoxElement:fi,RootElement:mi,FloatElement:xi,Text:yi,TextBox:Ti,Title:Si,AxisLabel:ki,Axis:Ei,Note:Li,CategoryAxis:yn,DateCategoryAxis:jn,DateValueAxis:En,NumericAxis:On,LogarithmicAxis:Vn,PolarAxis:Yn,RadarCategoryAxis:Hn,RadarNumericAxis:Wn,RadarLogarithmicAxis:Kn,CurveProcessor:Qn,rectToBox:wi,addClass:K,removeClass:Z,alignPathToPixel:J,clockwise:$,convertableToNumber:function(t){return tt(t)||it(t)&&isFinite(t)},cycleUp:function(t,i){return(t+1)%i},cycleDown:function(t,i){var n=t-1;return n<0?i-1:n},cycleIndex:function(t,i){return 1===i||t%i==0?0:t<0?i+t%i:t>=i?t%i:t},deepExtend:p,elementStyles:function(t,i){var n=it(i)?[i]:i;if(W(n)){for(var e={},o=window.getComputedStyle(t),r=0;r<n.length;r++){var s=n[r];e[s]=rt(s)?parseFloat(o[s]):o[s]}return e}if(nt(i))for(var a in i)t.style[a]=et(i[a])},getSpacing:st,getTemplate:ht,getAriaTemplate:function(t){var i;return void 0===t&&(t={}),t.ariaTemplate?t.ariaTemplate=i=lt.compile(t.ariaTemplate):d(t.ariaContent)&&(i=t.ariaContent),i},getter:v,grep:ut,hasClasses:function(t,i){if(t.className)for(var n=i.split(" "),e=0;e<n.length;e++)if(t.className.indexOf&&-1!==t.className.indexOf(n[e]))return!0},HashMap:ct,inArray:ft,interpolateValue:function(t,i,n){return kendo.drawing.util.round(t+(i-t)*n,3)},InstanceObserver:dt,isArray:W,isFunction:d,isNumber:tt,isObject:nt,isPlainObject:vt,isString:it,map:gt,mousewheelDelta:function(t){var i=0;return t.wheelDelta?(i=-t.wheelDelta/120,mt.webkit&&(i/=2*Math.max(window.devicePixelRatio,.625))):t.detail&&(i=t.detail/3),i=i>0?Math.ceil(i):Math.floor(i)},FontLoader:Ct,renderIcon:function(t,i){var n=t,e=i;return n&&(!nt(n)||n instanceof HTMLElement)&&!it(n)||(e=n,n=document.createElement("span")),it(e)&&(e={icon:e}),e.type||(e.type="svg"),Ft[e.type]?new Ft[e.type](n,e).html():null},setDefaultOptions:Ot,sparseArrayLimits:Nt,styleValue:et,find:function(t,i){for(var n=0;n<t.length;n++){var e=t[n];if(i(e,n,t))return e}},elementScale:function(t){if(!t)return Ht.unit();for(var i=qt(t),n=t.parentElement;n;){var e=qt(n);i=i.multiplyCopy(e),n=n.parentElement}return i.b=i.c=i.e=i.f=0,i},autoTextColor:Xt,createHashSet:function(t){return i=!1,"function"==typeof Set&&(i=new Set([1]).has(1)),i?new Qt(t):new Kt(t);var i},defaultErrorHandler:function(t){throw t},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},hasOwnProperty:function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},Matrix:Zt,Observable:ni,append:bt,bindEvents:yt,Class:r,defined:wt,deg:Mt,elementOffset:Tt,elementSize:St,eventCoordinates:Rt,eventElement:kt,hashKey:Lt,last:At,limitValue:It,logToConsole:kendo.logToConsole,objectKey:Ut,rad:jt,round:Dt,unbindEvents:Pt,valueOrDefault:Bt,absoluteDateDiff:nn,addDuration:an,addTicks:en,ceilDate:hn,dateComparer:un,dateDiff:cn,dateEquals:pn,dateIndex:vn,duration:gn,floorDate:ln,lteDateIndex:function(t,i){for(var n,e=0,o=i.length-1;e<=o;){var r=i[n=Math.floor((e+o)/2)];if(r<t)e=n+1;else{if(!(r>t)){for(;pn(i[n-1],t);)n--;return n}o=n-1}}return i[n]<=t?n:n-1},startOfWeek:rn,toDate:on,parseDate:mn,parseDates:xn,toTime:fn,firstDay:bn})}(window.kendo.jQuery),t=window.kendo.jQuery,i=kendo.dataviz,n=i.services,e=kendo.drawing,i.SASS_THEMES=["sass","default-v2","bootstrap-v4","material-v2"],i.ExportMixin={extend:function(t,i){if(!t.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");t.exportSVG=this.exportSVG,t.exportImage=this.exportImage,t.exportPDF=this.exportPDF,i||(t.svg=this.svg,t.imageDataURL=this.imageDataURL)},exportSVG:function(t){return e.exportSVG(this.exportVisual(),t)},exportImage:function(t){return e.exportImage(this.exportVisual(t),t)},exportPDF:function(t){return e.exportPDF(this.exportVisual(),t)},svg:function(){if(e.svg.Surface)return e.svg.exportGroup(this.exportVisual());throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){if(!kendo.support.canvas)return null;if(e.canvas.Surface){var i=t("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),n=new e.canvas.Surface(i[0]);n.draw(this.exportVisual());var o=n._rootElement.toDataURL();return n.destroy(),i.remove(),o}throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},n.IntlService.register({format:function(t){return kendo.format.apply(null,[t].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate,firstDay:function(){return kendo.culture().calendars.standard.firstDay}}),n.TemplateService.register({compile:kendo.template}),i.Point2D=i.Point,i.Box2D=i.Box,i.mwDelta=function(t){return i.mousewheelDelta(t.originalEvent)};return kendo}));
//# sourceMappingURL=kendo.dataviz.core.min.js.map
